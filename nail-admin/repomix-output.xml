This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
public/
  vite.svg
src/
  assets/
    react.svg
  components/
    auth/
      ProtectedRoute.tsx
    banners/
      BannerFormModal.tsx
      DeleteBannerDialog.tsx
      HeroSettingsCard.tsx
      index.ts
    layout/
      Layout.tsx
      Sidebar.tsx
      Topbar.tsx
    shared/
      DataTable.tsx
      ImageUpload.tsx
      index.ts
      StatusBadge.tsx
      VideoUpload.tsx
    ui/
      button.tsx
      card.tsx
      dialog.tsx
      dropdown-menu.tsx
      input.tsx
      label.tsx
      radio-group.tsx
      select.tsx
      switch.tsx
      textarea.tsx
  data/
    initializeMockData.ts
    mockBanners.ts
  lib/
    firebase.ts
    utils.ts
  pages/
    BannersPage.tsx
    BookingsPage.tsx
    ContactsPage.tsx
    DashboardPage.tsx
    GalleryPage.tsx
    LoginPage.tsx
    ServicesPage.tsx
  services/
    auth.service.ts
    banners.service.ts
    heroSettings.service.ts
    imageUpload.service.ts
    storage.service.ts
  store/
    authStore.ts
    bannersStore.ts
    heroSettingsStore.ts
  types/
    auth.types.ts
    banner.types.ts
    booking.types.ts
    contact.types.ts
    gallery.types.ts
    heroSettings.types.ts
    service.types.ts
  App.tsx
  index.css
  main.tsx
.gitignore
.prettierignore
.prettierrc
.repomixignore
CLAUDE.md
components.json
eslint.config.js
GEMINI.md
index.html
package.json
README.md
tsconfig.app.json
tsconfig.json
tsconfig.node.json
vite.config.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/components/auth/ProtectedRoute.tsx">
import { Navigate, Outlet } from "react-router-dom";

import { useAuthStore } from "@/store/authStore";

export function ProtectedRoute() {
  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }

  return <Outlet />;
}
</file>

<file path="src/components/banners/index.ts">
export { BannerFormModal } from "./BannerFormModal";
export type { BannerFormModalProps } from "./BannerFormModal";
export { DeleteBannerDialog } from "./DeleteBannerDialog";
export type { DeleteBannerDialogProps } from "./DeleteBannerDialog";
export { HeroSettingsCard } from "./HeroSettingsCard";
</file>

<file path="src/components/layout/Layout.tsx">
import { Outlet } from "react-router-dom";

import { Sidebar } from "./Sidebar";
import { Topbar } from "./Topbar";

export function Layout() {
  return (
    <div className="min-h-screen bg-background">
      <Sidebar />
      <div className="ml-64">
        <Topbar />
        <main className="p-6">
          <Outlet />
        </main>
      </div>
    </div>
  );
}
</file>

<file path="src/components/layout/Sidebar.tsx">
import {
  Calendar,
  Image,
  Images,
  LayoutDashboard,
  MessageSquare,
  Scissors,
} from "lucide-react";
import { NavLink } from "react-router-dom";

import { cn } from "@/lib/utils";

const navItems = [
  { icon: LayoutDashboard, label: "Dashboard", to: "/" },
  { icon: Image, label: "Banners", to: "/banners" },
  { icon: Scissors, label: "Services", to: "/services" },
  { icon: Images, label: "Gallery", to: "/gallery" },
  { icon: Calendar, label: "Bookings", to: "/bookings" },
  { icon: MessageSquare, label: "Contacts", to: "/contacts" },
];

export function Sidebar() {
  return (
    <aside className="fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card">
      <div className="flex h-16 items-center border-b border-border px-6">
        <h1 className="text-2xl font-bold text-primary">Pink Nail Admin</h1>
      </div>

      <nav className="space-y-1 p-4">
        {navItems.map((item) => (
          <NavLink
            key={item.to}
            to={item.to}
            className={({ isActive }) =>
              cn(
                "flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",
                isActive
                  ? "bg-primary text-primary-foreground"
                  : "text-muted-foreground hover:bg-accent hover:text-accent-foreground",
              )
            }
          >
            <item.icon className="h-5 w-5" />
            <span>{item.label}</span>
          </NavLink>
        ))}
      </nav>
    </aside>
  );
}
</file>

<file path="src/components/layout/Topbar.tsx">
import { Bell, Search, User } from "lucide-react";

import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { Input } from "@/components/ui/input";
import { useAuthStore } from "@/store/authStore";

export function Topbar() {
  const { logout, user } = useAuthStore();

  return (
    <header className="sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-card px-6">
      <div className="flex flex-1 items-center gap-4 max-w-md">
        <Search className="h-5 w-5 text-muted-foreground" />
        <Input
          type="search"
          placeholder="Search..."
          className="border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0"
        />
      </div>

      <div className="flex items-center gap-4">
        <Button variant="ghost" size="icon" className="relative">
          <Bell className="h-5 w-5" />
          <span className="absolute right-2 top-2 h-2 w-2 rounded-full bg-destructive" />
        </Button>

        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="ghost" className="gap-2">
              <div className="flex h-8 w-8 items-center justify-center rounded-full bg-primary/10">
                <User className="h-5 w-5 text-primary" />
              </div>
              <span className="font-medium">{user?.name}</span>
            </Button>
          </DropdownMenuTrigger>

          <DropdownMenuContent align="end">
            <DropdownMenuItem onClick={logout}>Logout</DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </div>
    </header>
  );
}
</file>

<file path="src/components/shared/index.ts">
export { DataTable, DataTableColumnHeader } from "./DataTable";

export { ImageUpload } from "./ImageUpload";
export type { ImageUploadProps } from "./ImageUpload";

export { StatusBadge } from "./StatusBadge";
export type { StatusBadgeProps } from "./StatusBadge";

export { VideoUpload } from "./VideoUpload";
export type { VideoUploadProps } from "./VideoUpload";
</file>

<file path="src/components/shared/VideoUpload.tsx">
import { Loader2, Trash2, Upload, Video } from "lucide-react";
import * as React from "react";
import { toast } from "sonner";

import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import { imageUploadService } from "@/services/imageUpload.service";

const MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB
const ACCEPTED_VIDEO_TYPES = ["video/mp4", "video/webm"];

export type VideoUploadProps = {
  className?: string;
  folder: "banners" | "services" | "gallery";
  onChange: (url: string) => void;
  value?: string;
};

export const VideoUpload = React.forwardRef<HTMLDivElement, VideoUploadProps>(
  ({ className, folder, onChange, value }, ref) => {
    const [isUploading, setIsUploading] = React.useState(false);
    const [uploadProgress, setUploadProgress] = React.useState(0);
    const [isDragging, setIsDragging] = React.useState(false);
    const inputRef = React.useRef<HTMLInputElement>(null);
    const videoRef = React.useRef<HTMLVideoElement>(null);

    const validateFile = (file: File): string | null => {
      if (!ACCEPTED_VIDEO_TYPES.includes(file.type)) {
        return "Invalid file type. Please upload MP4 or WebM videos.";
      }
      if (file.size > MAX_FILE_SIZE) {
        return "File size exceeds 50MB. Please choose a smaller file.";
      }
      return null;
    };

    const handleUpload = async (file: File) => {
      const validationError = validateFile(file);
      if (validationError) {
        toast.error(validationError);
        return;
      }

      setIsUploading(true);
      setUploadProgress(0);

      try {
        const url = await imageUploadService.uploadVideo(
          file,
          folder,
          (progress) => {
            setUploadProgress(progress);
          },
        );
        onChange(url);
        toast.success("Video uploaded successfully!");
      } catch (error) {
        console.error("Upload error:", error);
        toast.error("Failed to upload video. Please try again.");
      } finally {
        setIsUploading(false);
        setUploadProgress(0);
      }
    };

    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      const file = e.target.files?.[0];
      if (file) {
        handleUpload(file);
      }
    };

    const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(true);
    };

    const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(false);
    };

    const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(false);

      const file = e.dataTransfer.files?.[0];
      if (file) {
        handleUpload(file);
      }
    };

    const handleDelete = async () => {
      if (!value) return;

      try {
        await imageUploadService.deleteVideo(value);
        onChange("");
        toast.success("Video removed successfully!");
      } catch (error) {
        console.error("Delete error:", error);
        toast.error("Failed to remove video. Please try again.");
      }
    };

    const handleReplace = () => {
      inputRef.current?.click();
    };

    return (
      <div ref={ref} className={cn("w-full", className)}>
        <input
          ref={inputRef}
          type="file"
          accept={ACCEPTED_VIDEO_TYPES.join(",")}
          onChange={handleFileChange}
          className="hidden"
          disabled={isUploading}
        />

        {value ? (
          <div className="relative">
            <div className="relative overflow-hidden rounded-lg border border-border bg-muted">
              <video
                ref={videoRef}
                src={value}
                controls
                className="h-64 w-full object-cover"
              >
                Your browser does not support the video tag.
              </video>
              {isUploading && (
                <div className="absolute inset-0 flex items-center justify-center bg-black/50">
                  <Loader2 className="h-8 w-8 animate-spin text-white" />
                </div>
              )}
            </div>
            {!isUploading && (
              <div className="mt-2 flex gap-2">
                <Button
                  type="button"
                  variant="outline"
                  size="sm"
                  onClick={handleReplace}
                  className="flex-1"
                >
                  <Upload className="mr-2 h-4 w-4" />
                  Replace
                </Button>
                <Button
                  type="button"
                  variant="destructive"
                  size="sm"
                  onClick={handleDelete}
                  className="flex-1"
                >
                  <Trash2 className="mr-2 h-4 w-4" />
                  Remove
                </Button>
              </div>
            )}
          </div>
        ) : (
          <div
            onClick={() => !isUploading && inputRef.current?.click()}
            onDragOver={handleDragOver}
            onDragLeave={handleDragLeave}
            onDrop={handleDrop}
            className={cn(
              "flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed border-border bg-muted/50 p-8 transition-colors hover:bg-muted",
              isDragging && "border-primary bg-primary/10",
              isUploading && "cursor-not-allowed opacity-50",
            )}
          >
            {isUploading ? (
              <>
                <Loader2 className="h-10 w-10 animate-spin text-muted-foreground" />
                <div className="w-full max-w-xs">
                  <div className="h-2 w-full overflow-hidden rounded-full bg-secondary">
                    <div
                      className="h-full bg-primary transition-all duration-300"
                      style={{ width: `${uploadProgress}%` }}
                    />
                  </div>
                  <p className="mt-2 text-center text-sm text-muted-foreground">
                    Uploading... {Math.round(uploadProgress)}%
                  </p>
                </div>
              </>
            ) : (
              <>
                <div className="rounded-full bg-primary/10 p-3">
                  <Video className="h-8 w-8 text-primary" />
                </div>
                <div className="text-center">
                  <p className="text-sm font-medium">
                    Drag and drop or click to upload
                  </p>
                  <p className="mt-1 text-xs text-muted-foreground">
                    MP4 or WebM (max 50MB)
                  </p>
                </div>
              </>
            )}
          </div>
        )}
      </div>
    );
  },
);
VideoUpload.displayName = "VideoUpload";
</file>

<file path="src/components/ui/card.tsx">
import * as React from "react";

import { cn } from "@/lib/utils";

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-lg border border-border bg-card text-card-foreground shadow-sm",
      className,
    )}
    {...props}
  />
));
Card.displayName = "Card";

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
));
CardHeader.displayName = "CardHeader";

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className,
    )}
    {...props}
  />
));
CardTitle.displayName = "CardTitle";

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
));
CardDescription.displayName = "CardDescription";

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
));
CardContent.displayName = "CardContent";

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
));
CardFooter.displayName = "CardFooter";

export {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
};
</file>

<file path="src/components/ui/dropdown-menu.tsx">
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu";
import * as React from "react";

import { cn } from "@/lib/utils";

const DropdownMenu = DropdownMenuPrimitive.Root;
const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
));
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className,
    )}
    {...props}
  />
));
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;

export {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
};
</file>

<file path="src/components/ui/input.tsx">
import * as React from "react";

import { cn } from "@/lib/utils";

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className,
        )}
        ref={ref}
        {...props}
      />
    );
  },
);
Input.displayName = "Input";

export { Input };
</file>

<file path="src/components/ui/label.tsx">
import * as LabelPrimitive from "@radix-ui/react-label";
import { cva, type VariantProps } from "class-variance-authority";
import * as React from "react";

import { cn } from "@/lib/utils";

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
);

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
));
Label.displayName = LabelPrimitive.Root.displayName;

export { Label };
</file>

<file path="src/components/ui/radio-group.tsx">
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group";
import { Circle } from "lucide-react";
import * as React from "react";

import { cn } from "@/lib/utils";

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  );
});
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  );
});
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;

export { RadioGroup, RadioGroupItem };
</file>

<file path="src/components/ui/switch.tsx">
import * as SwitchPrimitives from "@radix-ui/react-switch";
import * as React from "react";

import { cn } from "@/lib/utils";

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className,
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",
      )}
    />
  </SwitchPrimitives.Root>
));
Switch.displayName = SwitchPrimitives.Root.displayName;

export { Switch };
</file>

<file path="src/components/ui/textarea.tsx">
import * as React from "react";

import { cn } from "@/lib/utils";

const Textarea = React.forwardRef<
  HTMLTextAreaElement,
  React.ComponentProps<"textarea">
>(({ className, ...props }, ref) => {
  return (
    <textarea
      className={cn(
        "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className,
      )}
      ref={ref}
      {...props}
    />
  );
});
Textarea.displayName = "Textarea";

export { Textarea };
</file>

<file path="src/data/initializeMockData.ts">
import { useBannersStore } from "@/store/bannersStore";
import { useHeroSettingsStore } from "@/store/heroSettingsStore";

export function initializeMockData(): void {
  // Initialize banners store
  useBannersStore.getState().initializeBanners();

  // Initialize hero settings store
  useHeroSettingsStore.getState().initializeSettings();

  console.log("Mock data initialized successfully");
}
</file>

<file path="src/data/mockBanners.ts">
import type { Banner } from "@/types/banner.types";

export const MOCK_BANNERS: Banner[] = [
  {
    active: true,
    createdAt: new Date("2025-11-15"),
    id: "banner_1",
    imageUrl:
      "https://images.unsplash.com/photo-1604654894610-df63bc536371?w=1920&h=1080&fit=crop",
    isPrimary: true,
    sortIndex: 0,
    title: "Welcome to Pink Nail Salon",
    type: "image",
    updatedAt: new Date("2025-11-15"),
  },
  {
    active: false,
    createdAt: new Date("2025-11-20"),
    id: "banner_2",
    imageUrl:
      "https://images.unsplash.com/photo-1610992015732-2449b76344bc?w=1920&h=1080&fit=crop",
    isPrimary: false,
    sortIndex: 1,
    title: "Special Holiday Offer",
    type: "image",
    updatedAt: new Date("2025-11-20"),
  },
  {
    active: true,
    createdAt: new Date("2025-11-25"),
    id: "banner_3",
    imageUrl:
      "https://images.unsplash.com/photo-1632345031435-8727f6897d53?w=1920&h=1080&fit=crop",
    isPrimary: false,
    sortIndex: 2,
    title: "New Nail Art Collection",
    type: "image",
    updatedAt: new Date("2025-11-25"),
  },
  {
    active: false,
    createdAt: new Date("2025-11-10"),
    id: "banner_4",
    imageUrl:
      "https://images.unsplash.com/photo-1519415510236-718bdfcd89c8?w=1920&h=1080&fit=crop",
    isPrimary: false,
    sortIndex: 3,
    title: "Premium Spa Experience",
    type: "video",
    updatedAt: new Date("2025-11-28"),
  },
  {
    active: true,
    createdAt: new Date("2025-11-05"),
    id: "banner_5",
    imageUrl:
      "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1920&h=1080&fit=crop",
    isPrimary: false,
    sortIndex: 4,
    title: "Gift Cards Available",
    type: "video",
    updatedAt: new Date("2025-11-05"),
  },
];
</file>

<file path="src/lib/firebase.ts">
import { initializeApp } from "firebase/app";
import { getStorage } from "firebase/storage";

const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  appId: import.meta.env.VITE_FIREBASE_APP_ID,
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
};

export const app = initializeApp(firebaseConfig);
export const storage = getStorage(app);
</file>

<file path="src/lib/utils.ts">
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
</file>

<file path="src/pages/BannersPage.tsx">
import type { ColumnDef } from "@tanstack/react-table";

import {
  Edit,
  GripVertical,
  MoreVertical,
  Plus,
  Star,
  Trash2,
} from "lucide-react";
import { useEffect, useState } from "react";
import { toast } from "sonner";

import type { Banner } from "@/types/banner.types";

import {
  BannerFormModal,
  DeleteBannerDialog,
  HeroSettingsCard,
} from "@/components/banners";
import { DataTable } from "@/components/shared/DataTable";
import { StatusBadge } from "@/components/shared/StatusBadge";
import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { bannersService } from "@/services/banners.service";
import { heroSettingsService } from "@/services/heroSettings.service";
import { useBannersStore } from "@/store/bannersStore";
import { useHeroSettingsStore } from "@/store/heroSettingsStore";

type BannerFilter = "all" | "active";

export function BannersPage() {
  const banners = useBannersStore((state) => state.banners);
  const initializeBanners = useBannersStore((state) => state.initializeBanners);
  const heroDisplayMode = useHeroSettingsStore(
    (state) => state.settings.displayMode,
  );
  const initializeSettings = useHeroSettingsStore(
    (state) => state.initializeSettings,
  );

  const [isLoading, setIsLoading] = useState(true);
  const [selectedBanner, setSelectedBanner] = useState<Banner | undefined>();
  const [isFormModalOpen, setIsFormModalOpen] = useState(false);
  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);
  const [bannerFilter, setBannerFilter] = useState<BannerFilter>("all");

  const loadBanners = async () => {
    setIsLoading(true);
    try {
      const data = await bannersService.getAll();
      useBannersStore.getState().setBanners(data);
    } catch (error) {
      console.error("Error loading banners:", error);
      toast.error("Failed to load banners. Please try again.");
    } finally {
      setIsLoading(false);
    }
  };

  const loadHeroSettings = async () => {
    try {
      await heroSettingsService.getSettings();
    } catch (error) {
      console.error("Error loading hero settings:", error);
    }
  };

  useEffect(() => {
    initializeBanners();
    initializeSettings();
    loadBanners();
    loadHeroSettings();
  }, [initializeBanners, initializeSettings]);

  const handleCreate = () => {
    setSelectedBanner(undefined);
    setIsFormModalOpen(true);
  };

  const handleEdit = (banner: Banner) => {
    setSelectedBanner(banner);
    setIsFormModalOpen(true);
  };

  const handleDelete = (banner: Banner) => {
    setSelectedBanner(banner);
    setIsDeleteDialogOpen(true);
  };

  const handleSetPrimary = async (banner: Banner) => {
    try {
      await bannersService.setPrimary(banner.id);
      toast.success("Primary banner updated successfully!");
      loadBanners();
    } catch (error) {
      console.error("Error setting primary banner:", error);
      toast.error("Failed to set primary banner. Please try again.");
    }
  };

  const handleToggleActive = async (banner: Banner) => {
    try {
      await bannersService.toggleActive(banner.id);
      toast.success(
        `Banner ${banner.active ? "deactivated" : "activated"} successfully!`,
      );
      loadBanners();
    } catch (error) {
      console.error("Error toggling banner status:", error);
      toast.error("Failed to update banner status. Please try again.");
    }
  };

  const handleDragStart = (index: number) => {
    setDraggedIndex(index);
  };

  const handleDragOver = (e: React.DragEvent, index: number) => {
    e.preventDefault();
    if (draggedIndex === null || draggedIndex === index) return;

    const newBanners = [...banners];
    const draggedBanner = newBanners[draggedIndex];
    newBanners.splice(draggedIndex, 1);
    newBanners.splice(index, 0, draggedBanner);

    useBannersStore.getState().setBanners(newBanners);
    setDraggedIndex(index);
  };

  const handleDragEnd = async () => {
    if (draggedIndex === null) return;

    try {
      const bannerIds = banners.map((b) => b.id);
      await bannersService.reorder(bannerIds);
      toast.success("Banner order updated successfully!");
      setDraggedIndex(null);
    } catch (error) {
      console.error("Error reordering banners:", error);
      toast.error("Failed to reorder banners. Please try again.");
      loadBanners();
    }
  };

  // Filter banners based on hero display mode AND user filter
  const filteredBanners = banners.filter((banner) => {
    // First apply hero display mode filter based on banner type
    let heroModeMatch = false;

    if (heroDisplayMode === "image" || heroDisplayMode === "carousel") {
      // Image mode: show primary banners with type "image"
      heroModeMatch = banner.type === "image";
    } else if (heroDisplayMode === "video") {
      // Video mode: show primary banners with type "video"
      heroModeMatch = banner.type === "video";
    }

    // Then apply user's manual filter
    const userFilterMatch = bannerFilter === "all" ? true : banner.active;

    return heroModeMatch && userFilterMatch;
  });

  const columns: ColumnDef<Banner>[] = [
    {
      accessorKey: "drag",
      cell: ({ row }) => (
        <div
          className="cursor-grab active:cursor-grabbing"
          draggable
          onDragStart={() => handleDragStart(row.index)}
          onDragOver={(e) => handleDragOver(e, row.index)}
          onDragEnd={handleDragEnd}
        >
          <GripVertical className="h-5 w-5 text-muted-foreground" />
        </div>
      ),
      header: "",
      size: 40,
    },
    {
      accessorKey: "imageUrl",
      cell: ({ row }) => (
        <img
          src={row.original.imageUrl}
          alt={row.original.title}
          className="h-12 w-20 rounded object-cover"
        />
      ),
      header: "Image",
      size: 100,
    },
    {
      accessorKey: "title",
      cell: ({ row }) => <p className="font-medium">{row.original.title}</p>,
      header: "Title",
    },
    {
      accessorKey: "type",
      cell: ({ row }) => (
        <span className="inline-flex items-center rounded-full bg-secondary px-2.5 py-0.5 text-xs font-medium capitalize text-secondary-foreground">
          {row.original.type}
        </span>
      ),
      header: "Type",
      size: 80,
    },
    {
      accessorKey: "status",
      cell: ({ row }) => (
        <div className="flex flex-wrap gap-1.5">
          <StatusBadge status={row.original.active ? "active" : "inactive"} />
          {row.original.isPrimary && <StatusBadge isPrimary />}
        </div>
      ),
      header: "Status",
      size: 150,
    },
    {
      accessorKey: "actions",
      cell: ({ row }) => (
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="ghost" size="icon">
              <MoreVertical className="h-4 w-4" />
              <span className="sr-only">Actions</span>
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="end">
            <DropdownMenuItem onClick={() => handleEdit(row.original)}>
              <Edit className="mr-2 h-4 w-4" />
              Edit
            </DropdownMenuItem>
            <DropdownMenuItem onClick={() => handleToggleActive(row.original)}>
              <StatusBadge
                className="mr-2"
                status={row.original.active ? "inactive" : "active"}
              />
              {row.original.active ? "Deactivate" : "Activate"}
            </DropdownMenuItem>
            {!row.original.isPrimary && (
              <DropdownMenuItem onClick={() => handleSetPrimary(row.original)}>
                <Star className="mr-2 h-4 w-4" />
                Set as Primary
              </DropdownMenuItem>
            )}
            <DropdownMenuItem
              className="text-destructive focus:text-destructive"
              onClick={() => handleDelete(row.original)}
            >
              <Trash2 className="mr-2 h-4 w-4" />
              Delete
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      ),
      header: "",
      size: 60,
    },
  ];

  return (
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <div>
          <h1 className="text-3xl font-bold tracking-tight">Banners</h1>
          <p className="text-muted-foreground">
            Manage hero section banners for your website
          </p>
        </div>
        <Button onClick={handleCreate}>
          <Plus className="mr-2 h-4 w-4" />
          Add Banner
        </Button>
      </div>

      <HeroSettingsCard onSettingsChange={loadHeroSettings} />

      <Card>
        <CardHeader>
          <div className="flex items-center justify-between">
            <div className="space-y-1">
              <CardTitle>All Banners</CardTitle>
              <CardDescription>
                {heroDisplayMode === "image" || heroDisplayMode === "video"
                  ? "Only the primary banner will be displayed in Image/Video mode."
                  : "All active banners will rotate in Carousel mode. Drag and drop to reorder."}
              </CardDescription>
            </div>
            <div className="flex items-center gap-2">
              <Select
                value={bannerFilter}
                onValueChange={(value) =>
                  setBannerFilter(value as BannerFilter)
                }
              >
                <SelectTrigger className="w-[180px]">
                  <SelectValue placeholder="Filter banners" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Banners</SelectItem>
                  <SelectItem value="active">Active Only</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </div>
        </CardHeader>
        <CardContent>
          {isLoading ? (
            <div className="flex h-64 items-center justify-center">
              <div className="text-center">
                <div className="mx-auto h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent" />
                <p className="mt-2 text-sm text-muted-foreground">
                  Loading banners...
                </p>
              </div>
            </div>
          ) : banners.length === 0 ? (
            <div className="flex h-64 items-center justify-center">
              <div className="text-center">
                <p className="text-muted-foreground">No banners found</p>
                <Button className="mt-4" onClick={handleCreate}>
                  <Plus className="mr-2 h-4 w-4" />
                  Create your first banner
                </Button>
              </div>
            </div>
          ) : (
            <DataTable columns={columns} data={filteredBanners} />
          )}
        </CardContent>
      </Card>

      <BannerFormModal
        banner={selectedBanner}
        open={isFormModalOpen}
        onOpenChange={setIsFormModalOpen}
        onSuccess={loadBanners}
      />

      <DeleteBannerDialog
        banner={selectedBanner}
        open={isDeleteDialogOpen}
        onOpenChange={setIsDeleteDialogOpen}
        onConfirm={loadBanners}
      />
    </div>
  );
}
</file>

<file path="src/pages/BookingsPage.tsx">
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

export function BookingsPage() {
  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">
          Bookings Management
        </h1>
        <p className="text-muted-foreground">
          View and manage customer bookings
        </p>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Recent Bookings</CardTitle>
          <CardDescription>
            Update booking status and view customer details
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div className="flex min-h-[400px] items-center justify-center rounded-md border border-dashed">
            <p className="text-sm text-muted-foreground">
              Bookings management functionality coming soon...
            </p>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/pages/ContactsPage.tsx">
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

export function ContactsPage() {
  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">
          Contacts Management
        </h1>
        <p className="text-muted-foreground">
          View and respond to customer inquiries
        </p>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Customer Inquiries</CardTitle>
          <CardDescription>
            Manage contact requests and add admin notes
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div className="flex min-h-[400px] items-center justify-center rounded-md border border-dashed">
            <p className="text-sm text-muted-foreground">
              Contacts management functionality coming soon...
            </p>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/pages/DashboardPage.tsx">
import {
  Image,
  Scissors,
  Images,
  Calendar,
  MessageSquare,
  ArrowRight,
} from "lucide-react";
import { Link } from "react-router-dom";

import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

export function DashboardPage() {
  const stats = [
    { icon: Image, label: "Total Banners", value: "3" },
    { icon: Scissors, label: "Total Services", value: "10" },
    { icon: Images, label: "Gallery Items", value: "18" },
    { icon: Calendar, label: "Pending Bookings", value: "5" },
  ];

  const quickActions = [
    {
      description: "Create and manage hero section banners",
      href: "/banners",
      icon: Image,
      title: "Manage Banners",
    },
    {
      description: "Add, edit, and organize nail services",
      href: "/services",
      icon: Scissors,
      title: "Manage Services",
    },
    {
      description: "Upload and organize portfolio images",
      href: "/gallery",
      icon: Images,
      title: "Manage Gallery",
    },
    {
      description: "View and update booking status",
      href: "/bookings",
      icon: Calendar,
      title: "View Bookings",
    },
    {
      description: "Respond to customer inquiries",
      href: "/contacts",
      icon: MessageSquare,
      title: "View Contacts",
    },
  ];

  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
        <p className="text-muted-foreground">
          Welcome to Pink Nail Admin Dashboard
        </p>
      </div>

      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
        {stats.map((stat) => (
          <Card key={stat.label}>
            <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
              <CardTitle className="text-sm font-medium">
                {stat.label}
              </CardTitle>
              <stat.icon className="h-4 w-4 text-muted-foreground" />
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{stat.value}</div>
            </CardContent>
          </Card>
        ))}
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Quick Actions</CardTitle>
          <CardDescription>
            Manage your nail salon content and bookings
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            {quickActions.map((action) => (
              <Link key={action.href} to={action.href}>
                <Card className="transition-colors hover:bg-accent cursor-pointer">
                  <CardContent className="p-6">
                    <div className="flex items-start justify-between">
                      <div className="space-y-2">
                        <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10">
                          <action.icon className="h-5 w-5 text-primary" />
                        </div>
                        <div>
                          <h3 className="font-semibold">{action.title}</h3>
                          <p className="text-sm text-muted-foreground">
                            {action.description}
                          </p>
                        </div>
                      </div>
                      <ArrowRight className="h-4 w-4 text-muted-foreground" />
                    </div>
                  </CardContent>
                </Card>
              </Link>
            ))}
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/pages/GalleryPage.tsx">
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

export function GalleryPage() {
  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">
          Gallery Management
        </h1>
        <p className="text-muted-foreground">
          Manage portfolio images and nail art gallery
        </p>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Gallery Images</CardTitle>
          <CardDescription>
            Upload and organize your nail art portfolio
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div className="flex min-h-[400px] items-center justify-center rounded-md border border-dashed">
            <p className="text-sm text-muted-foreground">
              Gallery CRUD functionality coming soon...
            </p>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/pages/LoginPage.tsx">
import { zodResolver } from "@hookform/resolvers/zod";
import { useForm } from "react-hook-form";
import { useNavigate } from "react-router-dom";
import { toast } from "sonner";
import { z } from "zod";

import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { authService } from "@/services/auth.service";
import { useAuthStore } from "@/store/authStore";

const loginSchema = z.object({
  email: z.string().email("Invalid email address"),
  password: z.string().min(6, "Password must be at least 6 characters"),
  rememberMe: z.boolean().optional(),
});

type LoginForm = z.infer<typeof loginSchema>;

export function LoginPage() {
  const navigate = useNavigate();
  const login = useAuthStore((state) => state.login);

  const {
    formState: { errors, isSubmitting },
    handleSubmit,
    register,
  } = useForm<LoginForm>({
    resolver: zodResolver(loginSchema),
  });

  const onSubmit = async (data: LoginForm) => {
    try {
      const response = await authService.login(data);
      login(response.user, response.token);
      toast.success("Login successful!");
      navigate("/");
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
    } catch (error) {
      toast.error("Invalid credentials");
    }
  };

  return (
    <div className="flex min-h-screen items-center justify-center bg-muted/50 p-4">
      <Card className="w-full max-w-md">
        <CardHeader className="space-y-1 text-center">
          <CardTitle className="text-3xl font-bold">Pink Nail Admin</CardTitle>
          <CardDescription>
            Enter your credentials to access the admin panel
          </CardDescription>
        </CardHeader>

        <CardContent>
          <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
            <div className="space-y-2">
              <Label htmlFor="email">Email</Label>
              <Input
                id="email"
                type="email"
                placeholder="admin@pinknail.com"
                {...register("email")}
              />
              {errors.email && (
                <p className="text-sm text-destructive">
                  {errors.email.message}
                </p>
              )}
            </div>

            <div className="space-y-2">
              <Label htmlFor="password">Password</Label>
              <Input
                id="password"
                type="password"
                placeholder=""
                {...register("password")}
              />
              {errors.password && (
                <p className="text-sm text-destructive">
                  {errors.password.message}
                </p>
              )}
            </div>

            <div className="flex items-center space-x-2">
              <input
                id="rememberMe"
                type="checkbox"
                className="h-4 w-4 rounded border-input"
                {...register("rememberMe")}
              />
              <Label
                htmlFor="rememberMe"
                className="text-sm font-normal cursor-pointer"
              >
                Remember me for 30 days
              </Label>
            </div>

            <Button
              type="submit"
              disabled={isSubmitting}
              className="w-full"
              size="lg"
            >
              {isSubmitting ? "Logging in..." : "Sign In"}
            </Button>

            <p className="text-center text-sm text-muted-foreground">
              Demo: admin@pinknail.com / admin123
            </p>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/pages/ServicesPage.tsx">
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

export function ServicesPage() {
  return (
    <div className="space-y-6">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">
          Services Management
        </h1>
        <p className="text-muted-foreground">
          Manage nail salon services, prices, and categories
        </p>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Service List</CardTitle>
          <CardDescription>
            Add, edit, and organize your nail services
          </CardDescription>
        </CardHeader>
        <CardContent>
          <div className="flex min-h-[400px] items-center justify-center rounded-md border border-dashed">
            <p className="text-sm text-muted-foreground">
              Services CRUD functionality coming soon...
            </p>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="src/services/auth.service.ts">
import type { AuthResponse, LoginCredentials, User } from "@/types/auth.types";

const MOCK_USER: User = {
  avatar: undefined,
  email: "admin@pinknail.com",
  id: "admin-1",
  name: "Admin User",
  role: "admin",
};

const MOCK_PASSWORD = "admin123";

export class AuthService {
  private useMockApi = import.meta.env.VITE_USE_MOCK_API === "true";

  async login(credentials: LoginCredentials): Promise<AuthResponse> {
    if (this.useMockApi) {
      return this.mockLogin(credentials);
    }

    // Real API call
    const response = await fetch("/api/auth/login", {
      body: JSON.stringify(credentials),
      headers: { "Content-Type": "application/json" },
      method: "POST",
    });

    if (!response.ok) throw new Error("Login failed");
    return response.json();
  }

  private async mockLogin(
    credentials: LoginCredentials,
  ): Promise<AuthResponse> {
    await new Promise((resolve) => setTimeout(resolve, 800)); // Simulate network

    if (
      credentials.email === MOCK_USER.email &&
      credentials.password === MOCK_PASSWORD
    ) {
      const token = btoa(
        JSON.stringify({ exp: Date.now() + 86400000, userId: MOCK_USER.id }),
      );

      return {
        expiresAt:
          Date.now() + (credentials.rememberMe ? 2592000000 : 86400000), // 30d or 1d
        token,
        user: MOCK_USER,
      };
    }

    throw new Error("Invalid credentials");
  }

  async logout(): Promise<void> {
    // Clear token from storage
  }

  async validateToken(token: string): Promise<User | null> {
    if (this.useMockApi) {
      try {
        const decoded = JSON.parse(atob(token));
        if (decoded.exp > Date.now()) {
          return MOCK_USER;
        }
      } catch {
        return null;
      }
    }

    // Real API validation
    return null;
  }
}

export const authService = new AuthService();
</file>

<file path="src/services/banners.service.ts">
import type { Banner } from "@/types/banner.types";

import { useBannersStore } from "@/store/bannersStore";

export class BannersService {
  private useMockApi = import.meta.env.VITE_USE_MOCK_API === "true";

  async getAll(): Promise<Banner[]> {
    if (this.useMockApi) {
      const banners = useBannersStore.getState().banners;
      return banners.sort((a, b) => a.sortIndex - b.sortIndex);
    }

    const response = await fetch("/api/banners");
    if (!response.ok) throw new Error("Failed to fetch banners");
    return response.json();
  }

  async getById(id: string): Promise<Banner | null> {
    if (this.useMockApi) {
      const banners = useBannersStore.getState().banners;
      return banners.find((b) => b.id === id) || null;
    }

    const response = await fetch(`/api/banners/${id}`);
    if (!response.ok) {
      if (response.status === 404) return null;
      throw new Error("Failed to fetch banner");
    }
    return response.json();
  }

  async create(
    data: Omit<Banner, "id" | "createdAt" | "updatedAt">,
  ): Promise<Banner> {
    if (this.useMockApi) {
      const newBanner: Banner = {
        ...data,
        createdAt: new Date(),
        id: `banner_${Date.now()}`,
        updatedAt: new Date(),
      };
      useBannersStore.getState().addBanner(newBanner);
      return newBanner;
    }

    const response = await fetch("/api/banners", {
      body: JSON.stringify(data),
      headers: { "Content-Type": "application/json" },
      method: "POST",
    });
    if (!response.ok) throw new Error("Failed to create banner");
    return response.json();
  }

  async update(
    id: string,
    data: Partial<Omit<Banner, "id" | "createdAt">>,
  ): Promise<Banner> {
    if (this.useMockApi) {
      const banners = useBannersStore.getState().banners;
      const banner = banners.find((b) => b.id === id);
      if (!banner) throw new Error("Banner not found");

      const updatedBanner: Banner = {
        ...banner,
        ...data,
        updatedAt: new Date(),
      };
      useBannersStore.getState().updateBanner(id, data);
      return updatedBanner;
    }

    const response = await fetch(`/api/banners/${id}`, {
      body: JSON.stringify(data),
      headers: { "Content-Type": "application/json" },
      method: "PATCH",
    });
    if (!response.ok) throw new Error("Failed to update banner");
    return response.json();
  }

  async delete(id: string): Promise<void> {
    if (this.useMockApi) {
      useBannersStore.getState().deleteBanner(id);
      return;
    }

    const response = await fetch(`/api/banners/${id}`, {
      method: "DELETE",
    });
    if (!response.ok) throw new Error("Failed to delete banner");
  }

  async toggleActive(id: string): Promise<Banner> {
    const banner = await this.getById(id);
    if (!banner) throw new Error("Banner not found");

    if (this.useMockApi) {
      useBannersStore.getState().toggleBannerActive(id);
      const updatedBanner = await this.getById(id);
      if (!updatedBanner) throw new Error("Banner not found after toggle");
      return updatedBanner;
    }

    return this.update(id, { active: !banner.active });
  }

  async setPrimary(id: string): Promise<Banner> {
    if (this.useMockApi) {
      useBannersStore.getState().setPrimaryBanner(id);
      const banner = await this.getById(id);
      if (!banner) throw new Error("Banner not found");
      return banner;
    }

    const response = await fetch(`/api/banners/${id}/set-primary`, {
      method: "POST",
    });
    if (!response.ok) throw new Error("Failed to set primary banner");
    return response.json();
  }

  async reorder(bannerIds: string[]): Promise<Banner[]> {
    if (this.useMockApi) {
      useBannersStore.getState().reorderBanners(bannerIds);
      return this.getAll();
    }

    const response = await fetch("/api/banners/reorder", {
      body: JSON.stringify({ bannerIds }),
      headers: { "Content-Type": "application/json" },
      method: "POST",
    });
    if (!response.ok) throw new Error("Failed to reorder banners");
    return response.json();
  }

  async getPrimary(): Promise<Banner | null> {
    const banners = await this.getAll();
    return banners.find((b) => b.isPrimary && b.active) || null;
  }

  async getActive(): Promise<Banner[]> {
    const banners = await this.getAll();
    return banners.filter((b) => b.active);
  }
}

export const bannersService = new BannersService();
</file>

<file path="src/services/imageUpload.service.ts">
import {
  deleteObject,
  getDownloadURL,
  ref,
  uploadBytesResumable,
} from "firebase/storage";

import { storage } from "@/lib/firebase";

export type UploadProgress = {
  error?: string;
  progress: number;
  url?: string;
};

export class ImageUploadService {
  async uploadImage(
    file: File,
    folder: "banners" | "services" | "gallery",
    onProgress?: (progress: number) => void,
  ): Promise<string> {
    const filename = `${Date.now()}_${file.name}`;
    const storageRef = ref(storage, `${folder}/${filename}`);

    const uploadTask = uploadBytesResumable(storageRef, file);

    return new Promise((resolve, reject) => {
      uploadTask.on(
        "state_changed",
        (snapshot) => {
          const progress =
            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
          onProgress?.(progress);
        },
        (error) => reject(error),
        async () => {
          const url = await getDownloadURL(uploadTask.snapshot.ref);
          resolve(url);
        },
      );
    });
  }

  async deleteImage(imageUrl: string): Promise<void> {
    const imageRef = ref(storage, imageUrl);
    await deleteObject(imageRef);
  }

  async uploadMultiple(
    files: File[],
    folder: "banners" | "services" | "gallery",
  ): Promise<string[]> {
    const uploadPromises = files.map((file) => this.uploadImage(file, folder));
    return Promise.all(uploadPromises);
  }

  async uploadVideo(
    file: File,
    folder: "banners" | "services" | "gallery",
    onProgress?: (progress: number) => void,
  ): Promise<string> {
    const filename = `${Date.now()}_${file.name}`;
    const storageRef = ref(storage, `${folder}/videos/${filename}`);

    const uploadTask = uploadBytesResumable(storageRef, file);

    return new Promise((resolve, reject) => {
      uploadTask.on(
        "state_changed",
        (snapshot) => {
          const progress =
            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
          onProgress?.(progress);
        },
        (error) => reject(error),
        async () => {
          const url = await getDownloadURL(uploadTask.snapshot.ref);
          resolve(url);
        },
      );
    });
  }

  async deleteVideo(videoUrl: string): Promise<void> {
    const videoRef = ref(storage, videoUrl);
    await deleteObject(videoRef);
  }
}

export const imageUploadService = new ImageUploadService();
</file>

<file path="src/services/storage.service.ts">
class StorageService {
  private prefix = "nail_admin_";

  set<T>(key: string, value: T): void {
    const serialized = JSON.stringify(value);
    localStorage.setItem(this.prefix + key, serialized);
  }

  get<T>(key: string, defaultValue: T): T {
    const item = localStorage.getItem(this.prefix + key);
    if (!item) return defaultValue;
    try {
      return JSON.parse(item) as T;
    } catch {
      return defaultValue;
    }
  }

  remove(key: string): void {
    localStorage.removeItem(this.prefix + key);
  }

  clear(): void {
    Object.keys(localStorage)
      .filter((key) => key.startsWith(this.prefix))
      .forEach((key) => localStorage.removeItem(key));
  }
}

export const storage = new StorageService();
</file>

<file path="src/store/authStore.ts">
import { create } from "zustand";

import type { User } from "@/types/auth.types";

import { storage } from "@/services/storage.service";

type AuthState = {
  initializeAuth: () => void;
  isAuthenticated: boolean;
  login: (user: User, token: string) => void;
  logout: () => void;
  token: string | null;
  user: User | null;
};

export const useAuthStore = create<AuthState>((set) => ({
  initializeAuth: () => {
    const token = storage.get<string | null>("auth_token", null);
    const user = storage.get<User | null>("auth_user", null);

    if (token && user) {
      set({ isAuthenticated: true, token, user });
    }
  },
  isAuthenticated: false,
  login: (user, token) => {
    storage.set("auth_token", token);
    storage.set("auth_user", user);
    set({ isAuthenticated: true, token, user });
  },

  logout: () => {
    storage.remove("auth_token");
    storage.remove("auth_user");
    set({ isAuthenticated: false, token: null, user: null });
  },

  token: null,

  user: null,
}));
</file>

<file path="src/types/auth.types.ts">
export type User = {
  avatar?: string;
  email: string;
  id: string;
  name: string;
  role: "admin" | "staff";
};

export type AuthResponse = {
  expiresAt: number;
  token: string;
  user: User;
};

export type LoginCredentials = {
  email: string;
  password: string;
  rememberMe?: boolean;
};
</file>

<file path="src/types/banner.types.ts">
export type BannerType = "image" | "video";

export type Banner = {
  active: boolean;
  createdAt: Date;
  id: string;
  imageUrl: string;
  isPrimary: boolean;
  sortIndex: number;
  title: string;
  type: BannerType;
  updatedAt: Date;
  videoUrl?: string;
};
</file>

<file path="src/types/booking.types.ts">
export type Booking = {
  customerInfo: CustomerInfo;
  date: Date;
  id?: string;
  notes?: string;
  serviceId: string;
  status: BookingStatus;
  timeSlot: TimeSlot;
};

export type TimeSlot = {
  available: boolean;
  time: string; // "09:00", "10:00", etc.
};

export type CustomerInfo = {
  email: string;
  firstName: string;
  lastName: string;
  phone: string;
};

export const BookingStatus = {
  CANCELLED: "cancelled",
  COMPLETED: "completed",
  CONFIRMED: "confirmed",
  PENDING: "pending",
} as const;

export type BookingStatus = (typeof BookingStatus)[keyof typeof BookingStatus];

export type BookingStep = {
  completed: boolean;
  id: number;
  title: string;
};

export type AvailableSlots = {
  date: string; // ISO date
  slots: TimeSlot[];
};
</file>

<file path="src/types/contact.types.ts">
export type Contact = {
  adminNotes?: string;
  createdAt: Date;
  email: string;
  firstName: string;
  id: string;
  lastName: string;
  message: string;
  phone?: string;
  respondedAt?: Date;
  status: ContactStatus;
  subject: string;
};

export const ContactStatus = {
  ARCHIVED: "archived",
  NEW: "new",
  READ: "read",
  RESPONDED: "responded",
} as const;

export type ContactStatus = (typeof ContactStatus)[keyof typeof ContactStatus];
</file>

<file path="src/types/gallery.types.ts">
export type GalleryItem = {
  category: GalleryCategory;
  createdAt?: Date;
  description?: string;
  duration?: string; // e.g., "45 min", "1.5 hrs"
  featured?: boolean;
  id: string;
  imageUrl: string;
  price?: string; // e.g., "$45", "$60-80"
  title: string;
};

export const GalleryCategory = {
  ALL: "all",
  EXTENSIONS: "extensions",
  MANICURE: "manicure",
  NAIL_ART: "nail-art",
  PEDICURE: "pedicure",
  SEASONAL: "seasonal",
} as const;

export type GalleryCategory =
  (typeof GalleryCategory)[keyof typeof GalleryCategory];

export type GalleryFilterProps = {
  activeCategory: GalleryCategory;
  onCategoryChange: (category: GalleryCategory) => void;
};
</file>

<file path="src/types/heroSettings.types.ts">
export const HERO_DISPLAY_MODES = {
  CAROUSEL: "carousel",
  IMAGE: "image",
  VIDEO: "video",
} as const;

export type HeroDisplayMode =
  (typeof HERO_DISPLAY_MODES)[keyof typeof HERO_DISPLAY_MODES];

export type HeroSettings = {
  carouselInterval: number;
  displayMode: HeroDisplayMode;
  showControls: boolean;
  updatedAt: Date;
};
</file>

<file path="src/types/service.types.ts">
export type Service = {
  category: ServiceCategory;
  description: string;
  duration: number; // in minutes
  featured?: boolean;
  id: string;
  imageUrl?: string;
  name: string;
  price: number;
};

export const ServiceCategory = {
  EXTENSIONS: "extensions",
  MANICURE: "manicure",
  NAIL_ART: "nail-art",
  PEDICURE: "pedicure",
  SPA: "spa",
} as const;

export type ServiceCategory =
  (typeof ServiceCategory)[keyof typeof ServiceCategory];

export type ServiceCardProps = {
  service: Service;
  variant?: "default" | "featured" | "compact";
};
</file>

<file path=".prettierignore">
# Ignore artifacts:
build
coverage

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*
.package-lock.json

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
.env
.claude
.venv
CLAUDE.md
</file>

<file path=".prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": false,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 80,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": false,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path=".repomixignore">
docs/*
plans/*
assets/*
dist/*
coverage/*
build/*
ios/*
android/*
tests/*
__tests__/*
__pycache__/*
node_modules/*

.opencode/*
.claude/*
.serena/*
.pnpm-store/*
.github/*
.dart_tool/*
.idea/*
.husky/*
.venv/*
</file>

<file path="CLAUDE.md">
# CLAUDE.md - Pink Nail Admin Dashboard

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Role & Responsibilities

Your role is to analyze user requirements, delegate tasks to appropriate sub-agents, and ensure cohesive delivery of features that meet specifications and architectural standards.

## Workflows

- Primary workflow: `./.claude/workflows/primary-workflow.md`
- Development rules: `./.claude/workflows/development-rules.md`
- Orchestration protocols: `./.claude/workflows/orchestration-protocol.md`
- Documentation management: `./.claude/workflows/documentation-management.md`
- And other workflows: `./.claude/workflows/*`

**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.
**IMPORTANT:** You must follow strictly the development rules in `./.claude/workflows/development-rules.md` file.
**IMPORTANT:** Before you plan or proceed any implementation, always read the `./README.md` file first to get context.
**IMPORTANT:** Sacrifice grammar for the sake of concision when writing reports.
**IMPORTANT:** In reports, list any unresolved questions at the end, if any.
**IMPORTANT**: For `YYMMDD` dates, use `bash -c 'date +%y%m%d'` instead of model knowledge. Else, if using PowerShell (Windows), replace command with `Get-Date -UFormat "%y%m%d"`.

## Documentation Management

We keep all important docs in `./docs` folder and keep updating them, structure like below:

```
./docs
 project-overview-pdr.md
 code-standards.md
 codebase-summary.md
 design-guidelines.md
 deployment-guide.md
 system-architecture.md
 project-roadmap.md
```

**IMPORTANT:** *MUST READ* and *MUST COMPLY* all *INSTRUCTIONS* in project `./CLAUDE.md`, especially *WORKFLOWS* section is *CRITICALLY IMPORTANT*, this rule is *MANDATORY. NON-NEGOTIABLE. NO EXCEPTIONS. MUST REMEMBER AT ALL TIMES!!!*

## Project Overview

**Pink Nail Admin Dashboard** is a React-based admin panel for managing a nail salon business. It pairs with a client-facing website at `/Users/hainguyen/Documents/nail-project/nail-client`. The admin panel uses shadcn/ui's blue theme design system and manages banners, services, gallery, bookings, and customer contacts.

## Tech Stack

- **Frontend**: React 19.2 + TypeScript 5.9
- **Build**: Vite 7.2 with SWC
- **Styling**: Tailwind CSS v4 (using `@theme` directive)
- **UI Components**: Radix UI primitives (shadcn/ui pattern)
- **Routing**: React Router v6
- **Forms**: React Hook Form + Zod validation
- **State**: Zustand
- **Notifications**: Sonner
- **Icons**: Lucide React
- **Data Tables**: TanStack Table (React Table v8)
- **Cloud Storage**: Firebase Storage
- **Data Strategy**: Mock data in localStorage (API-ready for migration)

## Critical Architecture Decisions

### 1. Type System Alignment

**CRITICAL**: This admin panel shares type definitions with the nail-client project. Types MUST remain compatible:

**Shared Types** (copied from client at `/Users/hainguyen/Documents/nail-project/nail-client/src/types/`):

- `Service` - Service with id, name, description, category, price, duration, imageUrl, featured
- `ServiceCategory` - "extensions" | "manicure" | "nail-art" | "pedicure" | "spa"
- `GalleryItem` - Gallery image with id, title, imageUrl, category, description, duration, price, featured, createdAt
- `GalleryCategory` - "all" | "extensions" | "manicure" | "nail-art" | "pedicure" | "seasonal"
- `Booking` - Booking with id, serviceId, date, timeSlot, customerInfo, notes, status
- `BookingStatus` - "pending" | "confirmed" | "completed" | "cancelled"
- `CustomerInfo` - firstName, lastName, email, phone

**Admin-Only Types**:

- `Banner` - Hero section banners (NEW feature, not in client)
- `Contact` - Customer inquiries with admin notes
- `User` - Admin user (id, email, name, role, avatar)
- `Auth` - Authentication types (AuthResponse, LoginCredentials)

**Rule**: Never modify shared types without updating both projects.

### 2. Mock API Architecture

The app uses a **dual-mode service layer** controlled by `VITE_USE_MOCK_API` env variable:

```typescript
// Example pattern in all service files
class BannersService {
  private useMockApi = import.meta.env.VITE_USE_MOCK_API === "true";

  async getAll(): Promise<Banner[]> {
    if (this.useMockApi) {
      return storage.get<Banner[]>("banners", []);
    }
    // Real API call
    const response = await fetch("/api/banners");
    return response.json();
  }
}
```

**Mock Mode** (`VITE_USE_MOCK_API=true`):

- Data stored in localStorage via `storage.service.ts`
- Prefix: `nail_admin_`
- Simulates network delay (800ms for auth)
- Full CRUD operations on localStorage

**Real API Mode** (`VITE_USE_MOCK_API=false`):

- Ready for backend integration
- Expected API endpoints documented in README
- No frontend code changes needed to switch

### 3. shadcn/ui Blue Theme Design System

**Color Palette** (defined in `src/index.css` using OKLCH):

```css
/* Light Mode */
--color-background: oklch(1 0 0);           /* White */
--color-foreground: oklch(0.145 0.007 255.75); /* Dark blue-gray */
--color-primary: oklch(0.492 0.147 255.75); /* Professional blue */
--color-secondary: oklch(0.961 0.004 255.75); /* Light gray */
--color-muted: oklch(0.961 0.004 255.75);   /* Light background */
--color-accent: oklch(0.961 0.004 255.75);  /* Accent background */
--color-destructive: oklch(0.577 0.245 27.325); /* Red */
--color-border: oklch(0.898 0.003 255.75);  /* Border gray */
--color-ring: oklch(0.492 0.147 255.75);    /* Focus ring (blue) */
--color-success: oklch(0.629 0.176 152.87); /* Green */
--color-warning: oklch(0.755 0.153 79.98);  /* Amber */
```

**shadcn/ui Component Patterns**:

- Use `bg-card` for card backgrounds (white/dark-gray)
- Use `border-border` for consistent borders
- Use `text-muted-foreground` for secondary text
- Use `hover:bg-accent` for interactive elements
- All components use CSS variables for theming

**Usage Pattern**:

```tsx
<Card className="border-border bg-card">
  <CardHeader>
    <CardTitle>Title</CardTitle>
    <CardDescription className="text-muted-foreground">
      Description
    </CardDescription>
  </CardHeader>
  <CardContent>{/* content */}</CardContent>
</Card>
```

### 4. TypeScript Configuration

**Important**: Uses `verbatimModuleSyntax: true`

**Rule**: Always use `type` imports for type-only imports:

```typescript
//  Correct
import type { User, AuthResponse } from "@/types/auth.types";

//  Wrong (causes build error)
import { User, AuthResponse } from "@/types/auth.types";
```

**Path Alias**: `@/*` maps to `./src/*`

### 5. Authentication Flow

**Demo Credentials**:

- Email: `admin@pinknail.com`
- Password: `admin123`

**Flow**:

1. Login via `authService.login()` (mock JWT in localStorage)
2. Token stored with 1-day (or 30-day if "Remember me") expiry
3. `useAuthStore` manages global auth state
4. `ProtectedRoute` component wraps admin routes
5. Redirects to `/login` if not authenticated

**Auth Files**:

- `src/services/auth.service.ts` - Authentication logic
- `src/store/authStore.ts` - Zustand store
- `src/components/auth/ProtectedRoute.tsx` - Route protection
- `src/pages/LoginPage.tsx` - Login UI

## File Organization

```
src/
 components/
    auth/              # ProtectedRoute
    layout/            # Sidebar, Topbar, Layout (glassmorphism)
    shared/            # Reusable components (DataTable, ImageUpload, StatusBadge)
    ui/                # Base UI components (Button, Input, Label, etc.)
 pages/                 # Page components (Login, Dashboard, Banners, etc.)
 services/              # Service layer (auth, storage, image upload, CRUD)
 store/                 # Zustand stores
 types/                 # TypeScript type definitions
 lib/                   # Utilities (utils.ts, firebase.ts)
 data/                  # Mock data
 App.tsx                # Router configuration
 main.tsx               # Entry point
 index.css              # Glassmorphism design system
```

## Common Tasks & Patterns

### Adding a New Page

1. Create page component in `src/pages/[Name]Page.tsx`
2. Add route in `src/App.tsx` inside `<ProtectedRoute>`
3. Add navigation item to `src/components/layout/Sidebar.tsx`
4. Create service in `src/services/[name].service.ts` with dual-mode pattern

### Creating a CRUD Service

Follow the pattern in the plan (see `/Users/hainguyen/.claude/plans/greedy-gliding-rocket.md`):

```typescript
export class BannersService {
  private useMockApi = import.meta.env.VITE_USE_MOCK_API === "true";

  async getAll(): Promise<Banner[]> { /* ... */ }
  async create(banner: Omit<Banner, "id">): Promise<Banner> { /* ... */ }
  async update(id: string, data: Partial<Banner>): Promise<Banner> { /* ... */ }
  async delete(id: string): Promise<void> { /* ... */ }
}

export const bannersService = new BannersService();
```

### Adding UI Components

**Use shadcn/ui pattern**:

1. Create in `src/components/ui/[name].tsx`
2. Use Radix UI primitives where possible
3. Add `cn()` utility for className merging
4. Export component and variants

**Example**:

```tsx
import { cn } from "@/lib/utils";

export function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div className={cn("glass shadow-glass rounded-lg p-6", className)} {...props} />
  );
}
```

### Form Validation with Zod

```typescript
import { zodResolver } from "@hookform/resolvers/zod";
import { useForm } from "react-hook-form";
import { z } from "zod";

const schema = z.object({
  email: z.string().email("Invalid email"),
  password: z.string().min(6, "Min 6 characters"),
});

type FormData = z.infer<typeof schema>;

const { register, handleSubmit, formState: { errors } } = useForm<FormData>({
  resolver: zodResolver(schema),
});
```

### Using Storage Service

```typescript
import { storage } from "@/services/storage.service";

// Set data
storage.set("key", { foo: "bar" });

// Get data with default
const data = storage.get<MyType>("key", defaultValue);

// Remove
storage.remove("key");

// Clear all admin data
storage.clear();
```

## Environment Variables

**`.env` file** (in project root):

```env
VITE_USE_MOCK_API=true                           # Toggle mock/real API
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

**Note**: `.env` is in `.gitignore`. Never commit real Firebase credentials.

## Current Implementation Status

###  Completed

- Project setup and dependencies
- Type system (shared + admin types)
- Glassmorphism design system
- Authentication (mock login, protected routes)
- Layout components (Sidebar, Topbar, Layout)
- Core services (storage, auth, image upload)
- Router configuration
- Login page
- Dashboard page (with placeholders)
- Firebase configuration
- Build pipeline (TypeScript + Vite)

###  Not Yet Implemented

- **DataTable component** (TanStack Table)
- **ImageUpload component** (Firebase integration)
- **Form modals** (create/edit dialogs)
- **Banners CRUD** (full implementation)
- **Services CRUD** (full implementation)
- **Gallery CRUD** (full implementation with bulk upload)
- **Bookings management** (view/update status)
- **Contacts management** (view/update/notes)
- **Mock data initialization** (seed data on first load)
- **StatusBadge component** (for booking/contact status)
- **Real backend API** (when ready to migrate)

## Known Constraints & Requirements

### User Requirements (from initial prompt)

- **Banner management is for hero sections** in client (not duplicate features)
- **Light professional theme** (not the warm earthy client theme)
- **Mock data first**, API-ready architecture
- **Firebase/AWS S3** for image uploads (cloud storage)
- **React Hook Form + Zod** for all forms
- **Glassmorphism design** throughout
- **No create button for bookings** (bookings come from client site)

### Design Requirements

- **Mobile-first** responsive design
- **Accessible** components (Radix UI ensures this)
- **Consistent glassmorphism** on all cards, modals, sidebar, topbar
- **English validation messages** (admin users, unlike Vietnamese in client)

### Performance Requirements

- **Lazy load routes** (can add React.lazy later)
- **Debounced search** in data tables
- **Image optimization** for uploads
- **Loading skeletons** for async operations

## Testing & Development

### Run Development Server

```bash
npm run dev
# Visit http://localhost:5173
# Login: admin@pinknail.com / admin123
```

### Build for Production

```bash
npm run build
# Output: dist/
```

### Lint Code

```bash
npm run lint
```

### Check Types

```bash
npx tsc --noEmit
```

## Related Projects

**Nail Client** (companion project):

- Location: `/Users/hainguyen/Documents/nail-project/nail-client`
- Same tech stack (React, TypeScript, Tailwind, Vite)
- Shares type definitions (Service, Gallery, Booking)
- Warm earthy theme vs. admin's professional blue theme
- Uses mock data (same pattern as admin)

**Type Sync**: When modifying shared types, update both projects!

## Common Issues & Solutions

### Build Error: "Type must be imported using type-only import"

**Fix**: Change `import { Type }` to `import type { Type }`

### Tailwind classes not working

**Fix**: Ensure `@import "tailwindcss"` is at top of `index.css`

### Firebase upload fails

**Fix**: Check `.env` has correct Firebase credentials, or keep `VITE_USE_MOCK_API=true`

### Protected route redirects to login immediately

**Fix**: Check `useAuthStore.initializeAuth()` is called in `App.tsx` `useEffect`

### Glass effects not showing

**Fix**: Check parent has non-transparent background (gradient background in body)

## Code Style & Conventions

- **Component naming**: PascalCase (e.g., `LoginPage`, `Sidebar`)
- **File naming**: PascalCase for components, camelCase for utilities
- **Type naming**: PascalCase (e.g., `User`, `AuthResponse`)
- **Formatting**: Prettier with 2-space indent, double quotes
- **Imports**: Absolute imports with `@/` alias preferred
- **Props**: Destructure in function signature
- **Types**: Define inline interfaces for props, separate files for domain types

## Implementation Plan Reference

Full implementation plan available at:
`/Users/hainguyen/.claude/plans/greedy-gliding-rocket.md`

This plan contains:

- Complete code examples for all components
- Service layer patterns
- Data table implementation
- Image upload flow
- Form modal structure
- API migration strategy
- 6-week timeline breakdown

## Quick Reference Commands

```bash
# Install dependencies
npm install

# Development
npm run dev

# Build
npm run build

# Preview production build
npm run preview

# Lint
npm run lint

# Type check
npx tsc --noEmit

# Add shadcn component (if needed)
npx shadcn@latest add [component-name]
```

## Next Task Priorities

When continuing work on this project:

1. **Implement DataTable component** (foundation for all CRUD pages)
2. **Create mock data initialization** (seed localStorage on first load)
3. **Build Banners CRUD** (first complete feature implementation)
4. **Add ImageUpload component** (needed for banners, services, gallery)
5. **Implement Services CRUD** (with category dropdown)
6. **Build Gallery CRUD** (with bulk upload)
7. **Add Bookings management** (view-only with status updates)
8. **Implement Contacts management** (with admin notes)

## AI Assistant Guidelines

When working on this project:

1. **Always check type compatibility** with nail-client project before modifying shared types
2. **Use `type` imports** to avoid verbatimModuleSyntax errors
3. **Follow glassmorphism patterns** for all UI components
4. **Maintain dual-mode service pattern** (mock + real API)
5. **Keep forms simple** - don't over-engineer with unnecessary features
6. **Reference the implementation plan** for code examples and patterns
7. **Test both mock and type-checking** before considering task complete
8. **Update README** when adding major features

---

**Last Updated**: 2025-11-30
**Project Status**: Foundation complete, CRUD features in progress
**Current Version**: 0.0.0 (pre-release)
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/index.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="tsconfig.node.json">
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2023",
    "lib": ["ES2023"],
    "module": "ESNext",
    "types": ["node"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}
</file>

<file path="src/components/banners/BannerFormModal.tsx">
import { zodResolver } from "@hookform/resolvers/zod";
import { useEffect, useState } from "react";
import { useForm } from "react-hook-form";
import { toast } from "sonner";
import { z } from "zod";

import type { Banner, BannerType } from "@/types/banner.types";

import { ImageUpload } from "@/components/shared/ImageUpload";
import { VideoUpload } from "@/components/shared/VideoUpload";
import { Button } from "@/components/ui/button";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Switch } from "@/components/ui/switch";
import { bannersService } from "@/services/banners.service";

const bannerSchema = z.object({
  active: z.boolean(),
  imageUrl: z.string().min(1, "Image is required"),
  title: z
    .string()
    .min(3, "Title must be at least 3 characters")
    .max(100, "Title must be 100 characters or less"),
  type: z.enum(["image", "video"]),
  videoUrl: z.string().optional(),
});

type BannerFormData = z.infer<typeof bannerSchema>;

export type BannerFormModalProps = {
  banner?: Banner;
  onOpenChange: (open: boolean) => void;
  onSuccess?: () => void;
  open: boolean;
};

export function BannerFormModal({
  banner,
  onOpenChange,
  onSuccess,
  open,
}: BannerFormModalProps) {
  const [isSubmitting, setIsSubmitting] = useState(false);
  const isEditMode = !!banner;

  const {
    formState: { errors },
    handleSubmit,
    register,
    reset,
    setValue,
    watch,
  } = useForm<BannerFormData>({
    defaultValues: {
      active: true,
      imageUrl: "",
      title: "",
      type: "image",
      videoUrl: "",
    },
    resolver: zodResolver(bannerSchema),
  });

  const imageUrl = watch("imageUrl");
  const videoUrl = watch("videoUrl");
  const active = watch("active");
  const type = watch("type");

  useEffect(() => {
    if (banner) {
      reset({
        active: banner.active,
        imageUrl: banner.imageUrl,
        title: banner.title,
        type: banner.type,
        videoUrl: banner.videoUrl || "",
      });
    } else {
      reset({
        active: true,
        imageUrl: "",
        title: "",
        type: "image",
        videoUrl: "",
      });
    }
  }, [banner, reset]);

  const onSubmit = async (data: BannerFormData) => {
    setIsSubmitting(true);
    try {
      if (isEditMode) {
        await bannersService.update(banner.id, {
          active: data.active,
          imageUrl: data.imageUrl,
          title: data.title,
          type: data.type,
          videoUrl: data.videoUrl || undefined,
        });
        toast.success("Banner updated successfully!");
      } else {
        const banners = await bannersService.getAll();
        const maxSortIndex =
          banners.length > 0
            ? Math.max(...banners.map((b) => b.sortIndex))
            : -1;

        await bannersService.create({
          active: data.active,
          imageUrl: data.imageUrl,
          isPrimary: false,
          sortIndex: maxSortIndex + 1,
          title: data.title,
          type: data.type,
          videoUrl: data.videoUrl || undefined,
        });
        toast.success("Banner created successfully!");
      }

      onSuccess?.();
      onOpenChange(false);
      reset();
    } catch (error) {
      console.error("Error saving banner:", error);
      toast.error(
        isEditMode
          ? "Failed to update banner. Please try again."
          : "Failed to create banner. Please try again.",
      );
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-2xl max-h-[90vh] overflow-y-auto">
        <DialogHeader>
          <DialogTitle>
            {isEditMode ? "Edit Banner" : "Create New Banner"}
          </DialogTitle>
          <DialogDescription>
            {isEditMode
              ? "Update the banner information below."
              : "Fill in the details to create a new banner."}
          </DialogDescription>
        </DialogHeader>

        <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
          <div className="space-y-4">
            {/* Title */}
            <div className="space-y-2">
              <Label htmlFor="title">
                Title <span className="text-destructive">*</span>
              </Label>
              <Input
                id="title"
                placeholder="Enter banner title..."
                {...register("title")}
              />
              {errors.title && (
                <p className="text-xs text-destructive">
                  {errors.title.message}
                </p>
              )}
            </div>

            {/* Banner Type */}
            <div className="space-y-2">
              <Label htmlFor="type">
                Banner Type <span className="text-destructive">*</span>
              </Label>
              <Select
                value={type}
                onValueChange={(value) => setValue("type", value as BannerType)}
              >
                <SelectTrigger>
                  <SelectValue placeholder="Select banner type" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="image">Image Banner</SelectItem>
                  <SelectItem value="video">Video Banner</SelectItem>
                </SelectContent>
              </Select>
              {errors.type && (
                <p className="text-xs text-destructive">
                  {errors.type.message}
                </p>
              )}
              <p className="text-xs text-muted-foreground">
                Choose "Image" for static image banners or "Video" for video
                background banners
              </p>
            </div>

            {/* Image Upload */}
            <div className="space-y-2">
              <Label>
                Banner Image <span className="text-destructive">*</span>
              </Label>
              <ImageUpload
                folder="banners"
                value={imageUrl}
                onChange={(url) => setValue("imageUrl", url)}
              />
              {errors.imageUrl && (
                <p className="text-xs text-destructive">
                  {errors.imageUrl.message}
                </p>
              )}
            </div>

            {/* Video Upload */}
            <div className="space-y-2">
              <Label>Banner Video (Optional)</Label>
              <VideoUpload
                folder="banners"
                value={videoUrl}
                onChange={(url) => setValue("videoUrl", url)}
              />
              {errors.videoUrl && (
                <p className="text-xs text-destructive">
                  {errors.videoUrl.message}
                </p>
              )}
              <p className="text-xs text-muted-foreground">
                Add a background video for the banner (optional)
              </p>
            </div>

            {/* Active Toggle */}
            <div className="flex items-center justify-between rounded-lg border border-border p-4">
              <div className="space-y-0.5">
                <Label htmlFor="active">Active Status</Label>
                <p className="text-xs text-muted-foreground">
                  Show this banner on the website
                </p>
              </div>
              <Switch
                id="active"
                checked={active}
                onCheckedChange={(checked) => setValue("active", checked)}
              />
            </div>
          </div>

          <DialogFooter>
            <Button
              type="button"
              variant="outline"
              onClick={() => onOpenChange(false)}
              disabled={isSubmitting}
            >
              Cancel
            </Button>
            <Button type="submit" disabled={isSubmitting}>
              {isSubmitting
                ? isEditMode
                  ? "Updating..."
                  : "Creating..."
                : isEditMode
                  ? "Update Banner"
                  : "Create Banner"}
            </Button>
          </DialogFooter>
        </form>
      </DialogContent>
    </Dialog>
  );
}
</file>

<file path="src/components/banners/DeleteBannerDialog.tsx">
import { AlertTriangle } from "lucide-react";
import { useState } from "react";
import { toast } from "sonner";

import type { Banner } from "@/types/banner.types";

import { Button } from "@/components/ui/button";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog";
import { bannersService } from "@/services/banners.service";

export type DeleteBannerDialogProps = {
  banner?: Banner;
  onConfirm?: () => void;
  onOpenChange: (open: boolean) => void;
  open: boolean;
};

export function DeleteBannerDialog({
  banner,
  onConfirm,
  onOpenChange,
  open,
}: DeleteBannerDialogProps) {
  const [isDeleting, setIsDeleting] = useState(false);

  const handleDelete = async () => {
    if (!banner) return;

    setIsDeleting(true);
    try {
      await bannersService.delete(banner.id);
      toast.success("Banner deleted successfully!");
      onConfirm?.();
      onOpenChange(false);
    } catch (error) {
      console.error("Error deleting banner:", error);
      toast.error("Failed to delete banner. Please try again.");
    } finally {
      setIsDeleting(false);
    }
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-md">
        <DialogHeader>
          <div className="flex items-center gap-3">
            <div className="flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10">
              <AlertTriangle className="h-5 w-5 text-destructive" />
            </div>
            <DialogTitle>Delete Banner</DialogTitle>
          </div>
          <DialogDescription>
            Are you sure you want to delete this banner? This action cannot be
            undone.
          </DialogDescription>
        </DialogHeader>

        {banner && (
          <div className="rounded-lg border border-border bg-muted/50 p-4">
            <div className="flex items-start gap-3">
              {banner.imageUrl && (
                <img
                  src={banner.imageUrl}
                  alt={banner.title}
                  className="h-16 w-24 rounded object-cover"
                />
              )}
              <div className="flex-1">
                <p className="font-medium">{banner.title}</p>
              </div>
            </div>
          </div>
        )}

        <DialogFooter>
          <Button
            type="button"
            variant="outline"
            onClick={() => onOpenChange(false)}
            disabled={isDeleting}
          >
            Cancel
          </Button>
          <Button
            type="button"
            variant="destructive"
            onClick={handleDelete}
            disabled={isDeleting}
          >
            {isDeleting ? "Deleting..." : "Delete Banner"}
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
</file>

<file path="src/components/banners/HeroSettingsCard.tsx">
import { zodResolver } from "@hookform/resolvers/zod";
import {
  AlertCircle,
  ChevronDown,
  ChevronUp,
  Image as ImageIcon,
  RotateCw,
  Video,
} from "lucide-react";
import { useEffect, useState } from "react";
import { useForm } from "react-hook-form";
import { toast } from "sonner";
import { z } from "zod";

import type { Banner } from "@/types/banner.types";

import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Label } from "@/components/ui/label";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";
import { Switch } from "@/components/ui/switch";
import { bannersService } from "@/services/banners.service";
import { heroSettingsService } from "@/services/heroSettings.service";
import { HERO_DISPLAY_MODES } from "@/types/heroSettings.types";

const heroSettingsSchema = z.object({
  carouselInterval: z
    .number()
    .min(2, "Interval must be at least 2 seconds")
    .max(10, "Interval must be at most 10 seconds"),
  displayMode: z.enum(["image", "video", "carousel"]),
  showControls: z.boolean(),
});

type HeroSettingsFormData = z.infer<typeof heroSettingsSchema>;

export type HeroSettingsCardProps = {
  onSettingsChange?: () => void;
};

export function HeroSettingsCard({ onSettingsChange }: HeroSettingsCardProps) {
  const [isLoading, setIsLoading] = useState(true);
  const [isSaving, setIsSaving] = useState(false);
  const [isCollapsed, setIsCollapsed] = useState(false);
  const [primaryBanner, setPrimaryBanner] = useState<Banner | null>(null);

  const {
    formState: { errors },
    handleSubmit,
    setValue,
    watch,
  } = useForm<HeroSettingsFormData>({
    defaultValues: {
      carouselInterval: 5,
      displayMode: "carousel",
      showControls: true,
    },
    resolver: zodResolver(heroSettingsSchema),
  });

  const displayMode = watch("displayMode");
  const showControls = watch("showControls");
  const carouselInterval = watch("carouselInterval");

  // Load settings and primary banner
  const loadData = async () => {
    setIsLoading(true);
    try {
      const [settings, banner] = await Promise.all([
        heroSettingsService.getSettings(),
        bannersService.getPrimary(),
      ]);

      setValue("displayMode", settings.displayMode);
      setValue("showControls", settings.showControls);
      setValue("carouselInterval", settings.carouselInterval / 1000); // Convert ms to seconds
      setPrimaryBanner(banner);
    } catch (error) {
      console.error("Error loading hero settings:", error);
      toast.error("Failed to load hero settings. Using defaults.");
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    loadData();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  // Auto-save on change
  const saveSettings = async (data: HeroSettingsFormData) => {
    setIsSaving(true);
    try {
      await heroSettingsService.updateSettings({
        carouselInterval: data.carouselInterval * 1000, // Convert seconds to ms
        displayMode: data.displayMode,
        showControls: data.showControls,
      });
      toast.success("Hero settings updated successfully!");
      onSettingsChange?.();
    } catch (error) {
      console.error("Error saving hero settings:", error);
      toast.error("Failed to save settings. Please try again.");
    } finally {
      setIsSaving(false);
    }
  };

  // Watch for changes and auto-save
  useEffect(() => {
    if (!isLoading) {
      const subscription = watch(() => {
        handleSubmit(saveSettings)();
      });
      return () => subscription.unsubscribe();
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isLoading, watch, handleSubmit]);

  const handleReset = async () => {
    try {
      const settings = await heroSettingsService.resetSettings();
      setValue("displayMode", settings.displayMode);
      setValue("showControls", settings.showControls);
      setValue("carouselInterval", settings.carouselInterval / 1000);
      toast.success("Hero settings reset to defaults!");
      onSettingsChange?.();
    } catch (error) {
      console.error("Error resetting hero settings:", error);
      toast.error("Failed to reset settings. Please try again.");
    }
  };

  const showPrimaryWarning =
    (displayMode === HERO_DISPLAY_MODES.IMAGE ||
      displayMode === HERO_DISPLAY_MODES.VIDEO) &&
    !primaryBanner;

  return (
    <Card>
      <CardHeader>
        <div className="flex items-center justify-between">
          <div className="flex-1">
            <CardTitle className="flex items-center gap-2">
              Hero Display Settings
              {isSaving && (
                <span className="text-xs font-normal text-muted-foreground">
                  (Saving...)
                </span>
              )}
            </CardTitle>
            <CardDescription>
              Configure how banners are displayed in the hero section
            </CardDescription>
          </div>
          <div className="flex items-center gap-2">
            <Button
              variant="ghost"
              size="sm"
              onClick={handleReset}
              disabled={isLoading || isSaving}
            >
              <RotateCw className="mr-2 h-4 w-4" />
              Reset
            </Button>
            <Button
              variant="ghost"
              size="icon"
              onClick={() => setIsCollapsed(!isCollapsed)}
            >
              {isCollapsed ? (
                <ChevronDown className="h-4 w-4" />
              ) : (
                <ChevronUp className="h-4 w-4" />
              )}
              <span className="sr-only">
                {isCollapsed ? "Expand" : "Collapse"}
              </span>
            </Button>
          </div>
        </div>
      </CardHeader>

      {!isCollapsed && (
        <CardContent className="space-y-6">
          {isLoading ? (
            <div className="flex h-32 items-center justify-center">
              <div className="text-center">
                <div className="mx-auto h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent" />
                <p className="mt-2 text-sm text-muted-foreground">
                  Loading settings...
                </p>
              </div>
            </div>
          ) : (
            <>
              {/* Display Mode */}
              <div className="space-y-3">
                <Label>Display Mode</Label>
                <RadioGroup
                  value={displayMode}
                  onValueChange={(value) =>
                    setValue(
                      "displayMode",
                      value as "image" | "video" | "carousel",
                    )
                  }
                >
                  <div className="flex items-center space-x-2 rounded-lg border border-border p-3 transition-colors hover:bg-accent">
                    <RadioGroupItem
                      value={HERO_DISPLAY_MODES.IMAGE}
                      id="image"
                    />
                    <Label
                      htmlFor="image"
                      className="flex flex-1 cursor-pointer items-center gap-2"
                    >
                      <ImageIcon className="h-4 w-4" />
                      <div>
                        <p className="font-medium">Image</p>
                        <p className="text-xs text-muted-foreground">
                          Single static image from primary banner
                        </p>
                      </div>
                    </Label>
                  </div>
                  <div className="flex items-center space-x-2 rounded-lg border border-border p-3 transition-colors hover:bg-accent">
                    <RadioGroupItem
                      value={HERO_DISPLAY_MODES.VIDEO}
                      id="video"
                    />
                    <Label
                      htmlFor="video"
                      className="flex flex-1 cursor-pointer items-center gap-2"
                    >
                      <Video className="h-4 w-4" />
                      <div>
                        <p className="font-medium">Video</p>
                        <p className="text-xs text-muted-foreground">
                          Single video background from primary banner
                        </p>
                      </div>
                    </Label>
                  </div>
                  <div className="flex items-center space-x-2 rounded-lg border border-border p-3 transition-colors hover:bg-accent">
                    <RadioGroupItem
                      value={HERO_DISPLAY_MODES.CAROUSEL}
                      id="carousel"
                    />
                    <Label
                      htmlFor="carousel"
                      className="flex flex-1 cursor-pointer items-center gap-2"
                    >
                      <RotateCw className="h-4 w-4" />
                      <div>
                        <p className="font-medium">Carousel</p>
                        <p className="text-xs text-muted-foreground">
                          Rotating carousel of all active banners
                        </p>
                      </div>
                    </Label>
                  </div>
                </RadioGroup>
                {errors.displayMode && (
                  <p className="text-xs text-destructive">
                    {errors.displayMode.message}
                  </p>
                )}
              </div>

              {/* Primary Banner Warning */}
              {showPrimaryWarning && (
                <div className="flex items-start gap-2 rounded-lg border border-warning bg-warning/10 p-4">
                  <AlertCircle className="mt-0.5 h-4 w-4 text-warning-foreground" />
                  <div className="flex-1">
                    <p className="text-sm font-medium text-warning-foreground">
                      No primary banner selected
                    </p>
                    <p className="text-xs text-warning-foreground/80">
                      Please set a banner as primary to use Image or Video mode.
                      Go to the banners table below and click "Set as Primary"
                      on a banner.
                    </p>
                  </div>
                </div>
              )}

              {/* Primary Banner Preview */}
              {primaryBanner &&
                (displayMode === HERO_DISPLAY_MODES.IMAGE ||
                  displayMode === HERO_DISPLAY_MODES.VIDEO) && (
                  <div className="space-y-2">
                    <Label>Primary Banner Preview</Label>
                    <div className="flex items-center gap-3 rounded-lg border border-border p-3">
                      <img
                        src={primaryBanner.imageUrl}
                        alt={primaryBanner.title}
                        className="h-16 w-24 rounded object-cover"
                      />
                      <div className="flex-1">
                        <p className="font-medium">{primaryBanner.title}</p>
                      </div>
                    </div>
                  </div>
                )}

              {/* Carousel Settings */}
              {displayMode === HERO_DISPLAY_MODES.CAROUSEL && (
                <div className="space-y-4 rounded-lg border border-border p-4">
                  <h3 className="text-sm font-medium">Carousel Settings</h3>

                  {/* Carousel Interval */}
                  <div className="space-y-2">
                    <div className="flex items-center justify-between">
                      <Label htmlFor="carouselInterval">
                        Interval (seconds)
                      </Label>
                      <span className="text-sm font-medium">
                        {carouselInterval}s
                      </span>
                    </div>
                    <input
                      type="range"
                      id="carouselInterval"
                      min={2}
                      max={10}
                      step={0.5}
                      value={carouselInterval}
                      onChange={(e) =>
                        setValue("carouselInterval", Number(e.target.value))
                      }
                      className="h-2 w-full cursor-pointer appearance-none rounded-lg bg-muted accent-primary"
                    />
                    <p className="text-xs text-muted-foreground">
                      Time between slide transitions
                    </p>
                    {errors.carouselInterval && (
                      <p className="text-xs text-destructive">
                        {errors.carouselInterval.message}
                      </p>
                    )}
                  </div>

                  {/* Show Controls */}
                  <div className="flex items-center justify-between rounded-lg border border-border p-3">
                    <div className="space-y-0.5">
                      <Label htmlFor="showControls">Show Navigation</Label>
                      <p className="text-xs text-muted-foreground">
                        Display arrows and dots for manual control
                      </p>
                    </div>
                    <Switch
                      id="showControls"
                      checked={showControls}
                      onCheckedChange={(checked) =>
                        setValue("showControls", checked)
                      }
                    />
                  </div>
                </div>
              )}
            </>
          )}
        </CardContent>
      )}
    </Card>
  );
}
</file>

<file path="src/components/shared/DataTable.tsx">
import {
  flexRender,
  getCoreRowModel,
  getSortedRowModel,
  useReactTable,
  type ColumnDef,
  type SortingState,
} from "@tanstack/react-table";
import { ArrowUpDown } from "lucide-react";
import { useState } from "react";

import { cn } from "@/lib/utils";

interface DataTableProps<TData, TValue> {
  className?: string;
  columns: ColumnDef<TData, TValue>[];
  data: TData[];
  onRowClick?: (row: TData) => void;
}

export function DataTable<TData, TValue>({
  className,
  columns,
  data,
  onRowClick,
}: DataTableProps<TData, TValue>) {
  const [sorting, setSorting] = useState<SortingState>([]);

  // eslint-disable-next-line react-hooks/incompatible-library
  const table = useReactTable({
    columns,
    data,
    getCoreRowModel: getCoreRowModel(),
    getSortedRowModel: getSortedRowModel(),
    onSortingChange: setSorting,
    state: {
      sorting,
    },
  });

  return (
    <div className={cn("w-full overflow-auto", className)}>
      <table className="w-full border-collapse">
        <thead>
          {table.getHeaderGroups().map((headerGroup) => (
            <tr key={headerGroup.id} className="border-b border-border">
              {headerGroup.headers.map((header) => (
                <th
                  key={header.id}
                  className="px-4 py-3 text-left text-sm font-semibold text-foreground"
                >
                  {header.isPlaceholder
                    ? null
                    : flexRender(
                        header.column.columnDef.header,
                        header.getContext(),
                      )}
                </th>
              ))}
            </tr>
          ))}
        </thead>
        <tbody>
          {table.getRowModel().rows?.length ? (
            table.getRowModel().rows.map((row) => (
              <tr
                key={row.id}
                className={cn(
                  "border-b border-border transition-colors",
                  onRowClick &&
                    "cursor-pointer hover:bg-accent hover:bg-opacity-50",
                )}
                onClick={() => onRowClick?.(row.original)}
              >
                {row.getVisibleCells().map((cell) => (
                  <td key={cell.id} className="px-4 py-3 text-sm">
                    {flexRender(cell.column.columnDef.cell, cell.getContext())}
                  </td>
                ))}
              </tr>
            ))
          ) : (
            <tr>
              <td
                colSpan={columns.length}
                className="px-4 py-8 text-center text-muted-foreground"
              >
                No results.
              </td>
            </tr>
          )}
        </tbody>
      </table>
    </div>
  );
}

export function DataTableColumnHeader({
  className,
  column,
  title,
}: {
  className?: string;
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  column: any;
  title: string;
}) {
  if (!column.getCanSort()) {
    return <div className={className}>{title}</div>;
  }

  return (
    <button
      type="button"
      className={cn(
        "flex items-center gap-2 hover:text-primary transition-colors",
        className,
      )}
      onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
    >
      {title}
      <ArrowUpDown className="h-4 w-4" />
    </button>
  );
}
</file>

<file path="src/components/shared/ImageUpload.tsx">
import { ImagePlus, Loader2, Trash2, Upload } from "lucide-react";
import * as React from "react";
import { toast } from "sonner";

import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import { imageUploadService } from "@/services/imageUpload.service";

const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5MB
const ACCEPTED_IMAGE_TYPES = [
  "image/jpeg",
  "image/jpg",
  "image/png",
  "image/webp",
];

export type ImageUploadProps = {
  className?: string;
  folder: "banners" | "services" | "gallery";
  onChange: (url: string) => void;
  value?: string;
};

export const ImageUpload = React.forwardRef<HTMLDivElement, ImageUploadProps>(
  ({ className, folder, onChange, value }, ref) => {
    const [isUploading, setIsUploading] = React.useState(false);
    const [uploadProgress, setUploadProgress] = React.useState(0);
    const [isDragging, setIsDragging] = React.useState(false);
    const inputRef = React.useRef<HTMLInputElement>(null);

    const validateFile = (file: File): string | null => {
      if (!ACCEPTED_IMAGE_TYPES.includes(file.type)) {
        return "Invalid file type. Please upload JPG, PNG, or WebP images.";
      }
      if (file.size > MAX_FILE_SIZE) {
        return "File size exceeds 5MB. Please choose a smaller file.";
      }
      return null;
    };

    const handleUpload = async (file: File) => {
      const validationError = validateFile(file);
      if (validationError) {
        toast.error(validationError);
        return;
      }

      setIsUploading(true);
      setUploadProgress(0);

      try {
        const url = await imageUploadService.uploadImage(
          file,
          folder,
          (progress) => {
            setUploadProgress(progress);
          },
        );
        onChange(url);
        toast.success("Image uploaded successfully!");
      } catch (error) {
        console.error("Upload error:", error);
        toast.error("Failed to upload image. Please try again.");
      } finally {
        setIsUploading(false);
        setUploadProgress(0);
      }
    };

    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      const file = e.target.files?.[0];
      if (file) {
        handleUpload(file);
      }
    };

    const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(true);
    };

    const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(false);
    };

    const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {
      e.preventDefault();
      setIsDragging(false);

      const file = e.dataTransfer.files?.[0];
      if (file) {
        handleUpload(file);
      }
    };

    const handleDelete = async () => {
      if (!value) return;

      try {
        await imageUploadService.deleteImage(value);
        onChange("");
        toast.success("Image removed successfully!");
      } catch (error) {
        console.error("Delete error:", error);
        toast.error("Failed to remove image. Please try again.");
      }
    };

    const handleReplace = () => {
      inputRef.current?.click();
    };

    return (
      <div ref={ref} className={cn("w-full", className)}>
        <input
          ref={inputRef}
          type="file"
          accept={ACCEPTED_IMAGE_TYPES.join(",")}
          onChange={handleFileChange}
          className="hidden"
          disabled={isUploading}
        />

        {value ? (
          <div className="relative">
            <div className="relative overflow-hidden rounded-lg border border-border bg-muted">
              <img
                src={value}
                alt="Uploaded"
                className="h-48 w-full object-cover"
              />
              {isUploading && (
                <div className="absolute inset-0 flex items-center justify-center bg-black/50">
                  <Loader2 className="h-8 w-8 animate-spin text-white" />
                </div>
              )}
            </div>
            {!isUploading && (
              <div className="mt-2 flex gap-2">
                <Button
                  type="button"
                  variant="outline"
                  size="sm"
                  onClick={handleReplace}
                  className="flex-1"
                >
                  <Upload className="mr-2 h-4 w-4" />
                  Replace
                </Button>
                <Button
                  type="button"
                  variant="destructive"
                  size="sm"
                  onClick={handleDelete}
                  className="flex-1"
                >
                  <Trash2 className="mr-2 h-4 w-4" />
                  Remove
                </Button>
              </div>
            )}
          </div>
        ) : (
          <div
            onClick={() => !isUploading && inputRef.current?.click()}
            onDragOver={handleDragOver}
            onDragLeave={handleDragLeave}
            onDrop={handleDrop}
            className={cn(
              "flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed border-border bg-muted/50 p-8 transition-colors hover:bg-muted",
              isDragging && "border-primary bg-primary/10",
              isUploading && "cursor-not-allowed opacity-50",
            )}
          >
            {isUploading ? (
              <>
                <Loader2 className="h-10 w-10 animate-spin text-muted-foreground" />
                <div className="w-full max-w-xs">
                  <div className="h-2 w-full overflow-hidden rounded-full bg-secondary">
                    <div
                      className="h-full bg-primary transition-all duration-300"
                      style={{ width: `${uploadProgress}%` }}
                    />
                  </div>
                  <p className="mt-2 text-center text-sm text-muted-foreground">
                    Uploading... {Math.round(uploadProgress)}%
                  </p>
                </div>
              </>
            ) : (
              <>
                <div className="rounded-full bg-primary/10 p-3">
                  <ImagePlus className="h-8 w-8 text-primary" />
                </div>
                <div className="text-center">
                  <p className="text-sm font-medium">
                    Drag and drop or click to upload
                  </p>
                  <p className="mt-1 text-xs text-muted-foreground">
                    JPG, PNG, or WebP (max 5MB)
                  </p>
                </div>
              </>
            )}
          </div>
        )}
      </div>
    );
  },
);
ImageUpload.displayName = "ImageUpload";
</file>

<file path="src/components/shared/StatusBadge.tsx">
import { cva, type VariantProps } from "class-variance-authority";
import { Check, Star, X } from "lucide-react";
import * as React from "react";

import { cn } from "@/lib/utils";

const statusBadgeVariants = cva(
  "inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-medium transition-colors",
  {
    defaultVariants: {
      status: "active",
      variant: "default",
    },
    variants: {
      status: {
        active: "",
        inactive: "",
        primary: "",
      },
      variant: {
        default: "",
        outline: "border",
      },
    },
  },
);

export type StatusBadgeProps = {
  className?: string;
  isPrimary?: boolean;
  status?: "active" | "inactive";
  variant?: "default" | "outline";
} & React.HTMLAttributes<HTMLSpanElement> &
  VariantProps<typeof statusBadgeVariants>;

const StatusBadge = React.forwardRef<HTMLSpanElement, StatusBadgeProps>(
  (
    {
      className,
      isPrimary = false,
      status = "active",
      variant = "default",
      ...props
    },
    ref,
  ) => {
    const getStatusStyles = () => {
      if (isPrimary) {
        return variant === "outline"
          ? "border-primary text-primary bg-primary/10"
          : "bg-primary text-primary-foreground";
      }

      if (status === "active") {
        return variant === "outline"
          ? "border-green-500 text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-950/20"
          : "bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400";
      }

      return variant === "outline"
        ? "border-gray-300 dark:border-gray-700 text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-900/20"
        : "bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400";
    };

    const getIcon = () => {
      if (isPrimary) {
        return <Star className="h-3 w-3" />;
      }
      if (status === "active") {
        return <Check className="h-3 w-3" />;
      }
      return <X className="h-3 w-3" />;
    };

    const getLabel = () => {
      if (isPrimary) return "Primary";
      return status === "active" ? "Active" : "Inactive";
    };

    return (
      <span
        ref={ref}
        className={cn(
          statusBadgeVariants({ status, variant }),
          getStatusStyles(),
          className,
        )}
        {...props}
      >
        {getIcon()}
        {getLabel()}
      </span>
    );
  },
);
StatusBadge.displayName = "StatusBadge";

export { StatusBadge };
</file>

<file path="src/components/ui/button.tsx">
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";
import * as React from "react";

import { cn } from "@/lib/utils";

const buttonVariants = cva(
  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",
  {
    defaultVariants: {
      size: "default",
      variant: "default",
    },
    variants: {
      size: {
        default: "h-10 px-4 py-2",
        icon: "h-10 w-10",
        lg: "h-11 rounded-md px-8",
        sm: "h-9 rounded-md px-3",
      },
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-error text-white hover:bg-error/90",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
      },
    },
  },
);

export type ButtonProps = {
  asChild?: boolean;
} & React.ButtonHTMLAttributes<HTMLButtonElement> &
  VariantProps<typeof buttonVariants>;

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ asChild = false, className, size, variant, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";
    return (
      <Comp
        className={cn(buttonVariants({ className, size, variant }))}
        ref={ref}
        {...props}
      />
    );
  },
);
Button.displayName = "Button";

export { Button, buttonVariants };
</file>

<file path="src/components/ui/dialog.tsx">
import * as DialogPrimitive from "@radix-ui/react-dialog";
import { X } from "lucide-react";
import * as React from "react";

import { cn } from "@/lib/utils";

const Dialog = DialogPrimitive.Root;

const DialogTrigger = DialogPrimitive.Trigger;

const DialogPortal = DialogPrimitive.Portal;

const DialogClose = DialogPrimitive.Close;

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className,
    )}
    {...props}
  />
));
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ children, className, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",
        className,
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
));
DialogContent.displayName = DialogPrimitive.Content.displayName;

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className,
    )}
    {...props}
  />
);
DialogHeader.displayName = "DialogHeader";

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className,
    )}
    {...props}
  />
);
DialogFooter.displayName = "DialogFooter";

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className,
    )}
    {...props}
  />
));
DialogTitle.displayName = DialogPrimitive.Title.displayName;

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
));
DialogDescription.displayName = DialogPrimitive.Description.displayName;

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
};
</file>

<file path="src/components/ui/select.tsx">
import * as SelectPrimitive from "@radix-ui/react-select";
import { Check, ChevronDown, ChevronUp } from "lucide-react";
import * as React from "react";

import { cn } from "@/lib/utils";

const Select = SelectPrimitive.Root;

const SelectGroup = SelectPrimitive.Group;

const SelectValue = SelectPrimitive.Value;

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ children, className, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-border bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className,
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
));
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName;

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className,
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
));
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className,
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
));
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName;

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ children, className, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className,
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]",
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
));
SelectContent.displayName = SelectPrimitive.Content.displayName;

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
));
SelectLabel.displayName = SelectPrimitive.Label.displayName;

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ children, className, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
));
SelectItem.displayName = SelectPrimitive.Item.displayName;

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-border", className)}
    {...props}
  />
));
SelectSeparator.displayName = SelectPrimitive.Separator.displayName;

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
};
</file>

<file path="src/services/heroSettings.service.ts">
import type { HeroSettings } from "@/types/heroSettings.types";

import { useHeroSettingsStore } from "@/store/heroSettingsStore";

export class HeroSettingsService {
  private useMockApi = import.meta.env.VITE_USE_MOCK_API === "true";

  async getSettings(): Promise<HeroSettings> {
    if (this.useMockApi) {
      return useHeroSettingsStore.getState().settings;
    }

    const response = await fetch("/api/hero-settings");
    if (!response.ok) throw new Error("Failed to fetch hero settings");
    return response.json();
  }

  async updateSettings(
    data: Partial<Omit<HeroSettings, "updatedAt">>,
  ): Promise<HeroSettings> {
    if (this.useMockApi) {
      useHeroSettingsStore.getState().updateSettings(data);
      return useHeroSettingsStore.getState().settings;
    }

    const response = await fetch("/api/hero-settings", {
      body: JSON.stringify(data),
      headers: { "Content-Type": "application/json" },
      method: "PUT",
    });
    if (!response.ok) throw new Error("Failed to update hero settings");
    return response.json();
  }

  async resetSettings(): Promise<HeroSettings> {
    if (this.useMockApi) {
      useHeroSettingsStore.getState().resetSettings();
      return useHeroSettingsStore.getState().settings;
    }

    return this.updateSettings({
      carouselInterval: 5000,
      displayMode: "carousel",
      showControls: true,
    });
  }
}

export const heroSettingsService = new HeroSettingsService();
</file>

<file path="src/store/bannersStore.ts">
import { create } from "zustand";

import type { Banner } from "@/types/banner.types";

import { MOCK_BANNERS } from "@/data/mockBanners";

type BannersState = {
  addBanner: (banner: Banner) => void;
  banners: Banner[];
  deleteBanner: (id: string) => void;
  initializeBanners: () => void;
  isInitialized: boolean;
  reorderBanners: (bannerIds: string[]) => void;
  setBanners: (banners: Banner[]) => void;
  setPrimaryBanner: (id: string) => void;
  toggleBannerActive: (id: string) => void;
  updateBanner: (id: string, data: Partial<Banner>) => void;
};

export const useBannersStore = create<BannersState>((set, get) => ({
  addBanner: (banner) => {
    set((state) => ({
      banners: [...state.banners, banner],
    }));
  },
  banners: [],

  deleteBanner: (id) => {
    set((state) => ({
      banners: state.banners.filter((banner) => banner.id !== id),
    }));
  },

  initializeBanners: () => {
    if (!get().isInitialized) {
      set({ banners: MOCK_BANNERS, isInitialized: true });
    }
  },

  isInitialized: false,

  reorderBanners: (bannerIds) => {
    set((state) => {
      const bannerMap = new Map(state.banners.map((b) => [b.id, b]));
      const reorderedBanners = bannerIds
        .map((id, index) => {
          const banner = bannerMap.get(id);
          return banner ? { ...banner, sortIndex: index } : null;
        })
        .filter((b): b is Banner => b !== null);

      return { banners: reorderedBanners };
    });
  },

  setBanners: (banners) => {
    set({ banners });
  },

  setPrimaryBanner: (id) => {
    set((state) => ({
      banners: state.banners.map((banner) =>
        banner.id === id
          ? { ...banner, isPrimary: true, updatedAt: new Date() }
          : { ...banner, isPrimary: false, updatedAt: new Date() },
      ),
    }));
  },

  toggleBannerActive: (id) => {
    set((state) => ({
      banners: state.banners.map((banner) =>
        banner.id === id
          ? { ...banner, active: !banner.active, updatedAt: new Date() }
          : banner,
      ),
    }));
  },

  updateBanner: (id, data) => {
    set((state) => ({
      banners: state.banners.map((banner) =>
        banner.id === id
          ? { ...banner, ...data, updatedAt: new Date() }
          : banner,
      ),
    }));
  },
}));
</file>

<file path="src/store/heroSettingsStore.ts">
import { create } from "zustand";

import type { HeroSettings, HeroDisplayMode } from "@/types/heroSettings.types";

const DEFAULT_HERO_SETTINGS: HeroSettings = {
  carouselInterval: 5000,
  displayMode: "carousel",
  showControls: true,
  updatedAt: new Date(),
};

type HeroSettingsState = {
  initializeSettings: () => void;
  isInitialized: boolean;
  resetSettings: () => void;
  setCarouselInterval: (interval: number) => void;
  setDisplayMode: (mode: HeroDisplayMode) => void;
  setShowControls: (show: boolean) => void;
  settings: HeroSettings;
  updateSettings: (settings: Partial<Omit<HeroSettings, "updatedAt">>) => void;
};

export const useHeroSettingsStore = create<HeroSettingsState>((set, get) => ({
  initializeSettings: () => {
    if (!get().isInitialized) {
      set({ isInitialized: true, settings: DEFAULT_HERO_SETTINGS });
    }
  },
  isInitialized: false,

  resetSettings: () => {
    set({ settings: { ...DEFAULT_HERO_SETTINGS, updatedAt: new Date() } });
  },

  setCarouselInterval: (interval) => {
    set((state) => ({
      settings: {
        ...state.settings,
        carouselInterval: interval,
        updatedAt: new Date(),
      },
    }));
  },

  setDisplayMode: (mode) => {
    set((state) => ({
      settings: {
        ...state.settings,
        displayMode: mode,
        updatedAt: new Date(),
      },
    }));
  },

  setShowControls: (show) => {
    set((state) => ({
      settings: {
        ...state.settings,
        showControls: show,
        updatedAt: new Date(),
      },
    }));
  },

  settings: DEFAULT_HERO_SETTINGS,

  updateSettings: (newSettings) => {
    set((state) => ({
      settings: {
        ...state.settings,
        ...newSettings,
        updatedAt: new Date(),
      },
    }));
  },
}));
</file>

<file path="src/App.tsx">
import { useEffect } from "react";
import { BrowserRouter, Route, Routes } from "react-router-dom";
import { Toaster } from "sonner";

import { ProtectedRoute } from "./components/auth/ProtectedRoute";
import { Layout } from "./components/layout/Layout";
import { BannersPage } from "./pages/BannersPage";
import { BookingsPage } from "./pages/BookingsPage";
import { ContactsPage } from "./pages/ContactsPage";
import { DashboardPage } from "./pages/DashboardPage";
import { GalleryPage } from "./pages/GalleryPage";
import { LoginPage } from "./pages/LoginPage";
import { ServicesPage } from "./pages/ServicesPage";
import { useAuthStore } from "./store/authStore";

function App() {
  const initializeAuth = useAuthStore((state) => state.initializeAuth);

  useEffect(() => {
    initializeAuth();
  }, [initializeAuth]);

  return (
    <BrowserRouter>
      <Toaster position="top-right" />
      <Routes>
        <Route path="/login" element={<LoginPage />} />

        <Route element={<ProtectedRoute />}>
          <Route element={<Layout />}>
            <Route path="/" element={<DashboardPage />} />
            <Route path="/banners" element={<BannersPage />} />
            <Route path="/services" element={<ServicesPage />} />
            <Route path="/gallery" element={<GalleryPage />} />
            <Route path="/bookings" element={<BookingsPage />} />
            <Route path="/contacts" element={<ContactsPage />} />
          </Route>
        </Route>
      </Routes>
    </BrowserRouter>
  );
}

export default App;
</file>

<file path="src/index.css">
@import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Playfair:ital,opsz,wght@0,5..1200,300..900;1,5..1200,300..900&display=swap");
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme {
  /* ============================================
     TYPOGRAPHY
     ============================================ */
  --font-sans:
    "Montserrat", "Be Vietnam Pro", ui-sans-serif, system-ui, sans-serif;
  --font-serif: "Playfair", ui-serif, Georgia, serif;
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.65rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.141 0.005 285.823);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.141 0.005 285.823);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.141 0.005 285.823);
  --primary: oklch(0.488 0.243 264.376);
  --primary-foreground: oklch(0.97 0.014 254.604);
  --secondary: oklch(0.967 0.001 286.375);
  --secondary-foreground: oklch(0.21 0.006 285.885);
  --muted: oklch(0.967 0.001 286.375);
  --muted-foreground: oklch(0.552 0.016 285.938);
  --accent: oklch(0.967 0.001 286.375);
  --accent-foreground: oklch(0.21 0.006 285.885);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.92 0.004 286.32);
  --input: oklch(0.92 0.004 286.32);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.809 0.105 251.813);
  --chart-2: oklch(0.623 0.214 259.815);
  --chart-3: oklch(0.546 0.245 262.881);
  --chart-4: oklch(0.488 0.243 264.376);
  --chart-5: oklch(0.424 0.199 265.638);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.141 0.005 285.823);
  --sidebar-primary: oklch(0.546 0.245 262.881);
  --sidebar-primary-foreground: oklch(0.97 0.014 254.604);
  --sidebar-accent: oklch(0.967 0.001 286.375);
  --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
  --sidebar-border: oklch(0.92 0.004 286.32);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.141 0.005 285.823);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.21 0.006 285.885);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.21 0.006 285.885);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.488 0.243 264.376);
  --primary-foreground: oklch(0.97 0.014 254.604);
  --secondary: oklch(0.274 0.006 286.033);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.274 0.006 286.033);
  --muted-foreground: oklch(0.705 0.015 286.067);
  --accent: oklch(0.274 0.006 286.033);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.809 0.105 251.813);
  --chart-2: oklch(0.623 0.214 259.815);
  --chart-3: oklch(0.546 0.245 262.881);
  --chart-4: oklch(0.488 0.243 264.376);
  --chart-5: oklch(0.424 0.199 265.638);
  --sidebar: oklch(0.21 0.006 285.885);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.623 0.214 259.815);
  --sidebar-primary-foreground: oklch(0.97 0.014 254.604);
  --sidebar-accent: oklch(0.274 0.006 286.033);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.439 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif text-foreground;
  }
}
</file>

<file path="src/main.tsx">
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";

import "./index.css";
import App from "./App.tsx";
import { initializeMockData } from "./data/initializeMockData";

if (import.meta.env.VITE_USE_MOCK_API === "true") {
  initializeMockData();
}

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

package-lock.json
yarn.lock
pnpm-lock.yaml
.env
.env.test
.env.production
.env.local
.env.*.local
</file>

<file path="eslint.config.js">
import js from "@eslint/js";
import perfectionist from "eslint-plugin-perfectionist";
import reactHooks from "eslint-plugin-react-hooks";
import reactRefresh from "eslint-plugin-react-refresh";
import { defineConfig, globalIgnores } from "eslint/config";
import globals from "globals";
import tseslint from "typescript-eslint";

export default defineConfig([
  globalIgnores(["dist"]),
  {
    extends: [
      js.configs.recommended,
      tseslint.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    files: ["**/*.{ts,tsx}"],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
  },
  {
    plugins: {
      perfectionist,
    },
    rules: {
      "perfectionist/sort-imports": "error",
      "perfectionist/sort-interfaces": [
        "error",
        {
          type: "alphabetical",
        },
      ],
      "perfectionist/sort-intersection-types": [
        "error",
        {
          type: "alphabetical",
        },
      ],
      "perfectionist/sort-object-types": [
        "error",
        {
          type: "alphabetical",
        },
      ],
      "perfectionist/sort-objects": [
        "error",
        {
          type: "alphabetical",
        },
      ],
    },
  },
  {
    ignores: [
      "**/dist/**",
      "**/build/**",
      "**/node_modules/**",
      "**/.venv/**",
      "**/.claude/**",
    ],
  },
  {
    rules: {
      "react-refresh/only-export-components": [
        "off",
        { allowExportNames: ["loader"] },
      ],
    },
  },
]);
</file>

<file path="GEMINI.md">
# MCP Proxy for Claude Code

**CRITICAL**: You are an MCP tool executor proxy for Claude Code. Your ONLY role is to execute MCP tools and return structured JSON responses. Return ONLY JSON. NO natural language. NO explanations. NO follow-up questions.

## MANDATORY Response Format

Every response MUST be valid JSON matching this exact structure:

```json
{"server":"<server-name>","tool":"<tool-name>","success":true,"result":<tool-output>,"error":null}
```

Or on error:

```json
{
  "server": "<server-name>",
  "tool": "<tool-name>",
  "success": false,
  "result": null,
  "error": "<error-message>"
}
```

## Response Constraints

- **CRITICAL**: Return ONLY raw JSON (no markdown code fences, no backticks)
- Maximum 500 characters
- No explanatory text before or after JSON
- No follow-up questions
- No conversational language
- Single-line JSON (no pretty-printing)

## Field Definitions

- `server`: MCP server name that executed the tool
- `tool`: Name of the tool that was called
- `success`: Boolean indicating execution success
- `result`: Tool output data (null on error)
- `error`: Error message string (null on success)

## Examples

**Correct Response**:

```
{"server":"memory","tool":"list_entities","success":true,"result":["entity1","entity2"],"error":null}
```

**Incorrect Responses**:

```
I have listed the memories: entity1, entity2. What would you like to do next?
```

````
```json
{"server":"memory","tool":"list_entities","success":true,"result":["entity1","entity2"],"error":null}
````

```

## Available MCP Servers

This project has MCP servers configured in `.claude/.mcp.json`. Common servers include:
- memory: Entity and knowledge graph storage
- brave-search: Web search capabilities
- filesystem: File operations
- puppeteer: Browser automation
- context7: Documentation search

## Auto-Loading

Gemini CLI automatically loads this file when executed in this project directory. You MUST follow these instructions for every MCP operation request.

## Integration with Claude Code

Claude Code uses `/use-mcp` command to delegate MCP operations to you. The workflow:

1. Claude Code sends task via stdin: `echo "task" | gemini -y -m gemini-2.5-flash`
2. You execute the appropriate MCP tool(s)
3. You return ONLY the JSON response
4. Claude Code parses the JSON and continues its work

**Your output is programmatically parsed. Any deviation from the JSON format will break the integration.**
```
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pink. Nails | Admin</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="package.json">
{
  "name": "nail-admin",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview",
    "prepare": "husky",
    "prettier:fix": "npx prettier . --write",
    "lint:fix": "npx eslint . --fix"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-popover": "^1.1.15",
    "@radix-ui/react-radio-group": "^1.3.8",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-switch": "^1.2.6",
    "@radix-ui/react-tabs": "^1.1.13",
    "@tanstack/react-query": "^5.90.11",
    "@tanstack/react-table": "^8.21.3",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^4.1.0",
    "firebase": "^12.6.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-hook-form": "^7.67.0",
    "react-router-dom": "^7.9.6",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "tailwindcss": "^4.1.17",
    "yup": "^1.7.1",
    "zod": "^4.1.13",
    "zustand": "^5.0.9"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@tailwindcss/vite": "^4.1.17",
    "@types/node": "^24.10.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react-swc": "^4.2.2",
    "eslint": "^9.39.1",
    "eslint-plugin-perfectionist": "^4.15.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "husky": "^9.1.7",
    "lint-staged": "^16.2.7",
    "lucide-react": "^0.555.0",
    "prettier": "^3.7.3",
    "prettier-plugin-tailwindcss": "^0.7.1",
    "tw-animate-css": "^1.4.0",
    "typescript": "~5.9.3",
    "typescript-eslint": "^8.46.4",
    "vite": "^7.2.4"
  },
  "lint-staged": {
    "src/**/*.{js,ts,jsx,tsx}": [
      "eslint --cache --fix",
      "prettier --write"
    ],
    "src/**/*.{css,scss}": [
      "prettier --write"
    ]
  }
}
</file>

<file path="README.md">
# Pink Nail Admin Dashboard

A modern React admin dashboard for managing a nail salon business with shadcn/ui blue theme.

## Features

-  **Authentication**: Mock login system with JWT-based auth
-  **shadcn/ui Blue Theme**: Professional design system with clean, modern aesthetics
-  **Protected Routes**: Secure routes requiring authentication
-  **Responsive Layout**: Fixed sidebar and sticky topbar
-  **Type-Safe**: Full TypeScript support with shared types from client project
-  **Mock Data**: localStorage-based mock API (ready for real backend integration)
-  **Firebase Ready**: Pre-configured for Firebase Storage image uploads

## Pages

- **Dashboard**: Overview with quick stats and actions 
- **Banners**: Full CRUD for hero section banners 
  - Create/edit/delete banners
  - Image/video uploads to Firebase Storage
  - Drag-and-drop reordering
  - Primary banner selection
  - Active/inactive toggle
  - Hero display mode settings (Image/Video/Carousel)
- **Services**: Manage nail services with pricing (coming soon)
- **Gallery**: Manage portfolio images (coming soon)
- **Bookings**: View and update customer bookings (coming soon)
- **Contacts**: Manage customer inquiries (CRUD - coming soon)

## Tech Stack

- **Frontend**: React 19.2 + TypeScript 5.9
- **Build Tool**: Vite 7.2
- **Styling**: Tailwind CSS v4 + glassmorphism utilities
- **UI Components**: Radix UI primitives
- **Routing**: React Router v6
- **Forms**: React Hook Form + Zod validation
- **State**: Zustand for global state
- **Notifications**: Sonner toasts
- **Icons**: Lucide React
- **Cloud Storage**: Firebase Storage

## Getting Started

### Installation

```bash
npm install
```

### Configure Environment

Update `.env` with your Firebase credentials or keep `VITE_USE_MOCK_API=true` to use mock data.

### Development

```bash
npm run dev
```

Visit http://localhost:5173 and login with demo credentials.

### Build

```bash
npm run build
```

## Demo Credentials

- **Email**: admin@pinknail.com
- **Password**: admin123

## Design System

### shadcn/ui Blue Theme

Built on shadcn/ui component library with a professional blue color scheme:

- **Primary**: Professional blue `oklch(0.492 0.147 255.75)`
- **Background**: Clean white `oklch(1 0 0)`
- **Muted**: Light gray `oklch(0.961 0.004 255.75)`
- **Border**: Subtle gray `oklch(0.898 0.003 255.75)`
- **Destructive**: Red `oklch(0.577 0.245 27.325)`
- **Success**: Green `oklch(0.629 0.176 152.87)`
- **Warning**: Amber `oklch(0.755 0.153 79.98)`

### Component Patterns

- Cards with `bg-card` and `border-border`
- Text with `text-muted-foreground` for secondary content
- Interactive elements with `hover:bg-accent`
- All styling uses Tailwind CSS utility classes
- Dark mode support via CSS variables

## Project Structure

```
src/
 components/
    auth/           # Protected route components
    layout/         # Sidebar, Topbar, Layout
    ui/             # Reusable UI components
 pages/              # Page components
 services/           # API services (auth, storage, image upload)
 store/              # Zustand stores
 types/              # TypeScript type definitions
 lib/                # Utilities
 App.tsx             # Main app with routing
 index.css           # Glassmorphism design system
```

## Implementation Status

###  Completed (v0.1.0)

1. **Foundation**
   - Authentication system with protected routes
   - shadcn/ui blue theme design system
   - Layout components (Sidebar, Topbar)
   - Type system aligned with client project
   - Card components and UI primitives

2. **Banner Management (Complete CRUD)**
   - Banner listing with DataTable (TanStack Table)
   - Create/edit banner forms with validation (React Hook Form + Zod)
   - Delete confirmation dialogs
   - Image/video upload to Firebase Storage
   - Drag-and-drop reordering (@dnd-kit)
   - Primary banner selection
   - Active/inactive toggle
   - Hero display mode settings (Image/Video/Carousel)
   - Auto-save settings
   - Mock data initialization with 5 sample banners

3. **Shared Components**
   - DataTable with TanStack Table (sorting, pagination, row actions)
   - ImageUpload with Firebase Storage integration
   - VideoUpload with Firebase Storage integration
   - StatusBadge component
   - Form modals (Dialog, Input, Label, Textarea, Switch, RadioGroup)

###  Coming Soon

4. **Services CRUD** - Manage nail services with pricing
5. **Gallery CRUD** - Manage portfolio images with bulk upload
6. **Bookings Management** - View and update customer bookings
7. **Contacts Management** - Manage customer inquiries with admin notes
8. **Dashboard Enhancements** - Real statistics and widgets
9. **Backend API Integration** - Replace mock data with real API

## License

MIT
</file>

<file path="tsconfig.app.json">
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2022",
    "useDefineForClassFields": true,
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "types": ["vite/client"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true,

    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"]
}
</file>

<file path="tsconfig.json">
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
</file>

<file path="vite.config.ts">
import tailwindcss from "@tailwindcss/vite";
import react from "@vitejs/plugin-react-swc";
import path from "path";
import { defineConfig } from "vite";

// https://vite.dev/config/
export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
});
</file>

</files>
